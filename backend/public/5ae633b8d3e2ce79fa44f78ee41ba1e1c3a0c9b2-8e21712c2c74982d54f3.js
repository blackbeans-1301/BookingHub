"use strict";(self.webpackChunkbooking_hub=self.webpackChunkbooking_hub||[]).push([[4475],{24357:function(e,t,n){var a=n(64836),l=n(75263);t.Z=void 0;var r=l(n(67294)),o=(0,a(n(58786)).default)(r.createElement("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"}),"Assignment");t.Z=o},27889:function(e,t,n){var a=n(64836),l=n(75263);t.Z=void 0;var r=l(n(67294)),o=(0,a(n(58786)).default)(r.createElement("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"}),"Chat");t.Z=o},13508:function(e,t,n){var a=n(64836),l=n(75263);t.Z=void 0;var r=l(n(67294)),o=(0,a(n(58786)).default)(r.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.Z=o},84509:function(e,t,n){var a=n(64836),l=n(75263);t.Z=void 0;var r=l(n(67294)),o=(0,a(n(58786)).default)(r.createElement(r.Fragment,null,r.createElement("path",{d:"M8.17 5.7L1 10.48V21h5v-8h4v8h5V10.25z"}),r.createElement("path",{d:"M10 3v1.51l2 1.33L13.73 7H15v.85l2 1.34V11h2v2h-2v2h2v2h-2v4h6V3H10zm9 6h-2V7h2v2z"})),"HomeWork");t.Z=o},9459:function(e,t,n){var a=n(64836),l=n(75263);t.Z=void 0;var r=l(n(67294)),o=(0,a(n(58786)).default)(r.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"Image");t.Z=o},12531:function(e,t,n){var a=n(64836),l=n(75263);t.Z=void 0;var r=l(n(67294)),o=(0,a(n(58786)).default)(r.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.Z=o},19143:function(e,t,n){var a=n(64836),l=n(75263);t.Z=void 0;var r=l(n(67294)),o=(0,a(n(58786)).default)(r.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"LocationOn");t.Z=o},39259:function(e,t,n){var a=n(64836),l=n(75263);t.Z=void 0;var r=l(n(67294)),o=(0,a(n(58786)).default)(r.createElement("path",{d:"M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"}),"Map");t.Z=o},95817:function(e,t,n){n.d(t,{Fp:function(){return r},MC:function(){return i},TZ:function(){return s},Ui:function(){return c},jh:function(){return o}});var a=n(13880),l=n(6490),r=function(e,t){var n={headers:{Authorization:"Bearer "+t}};return a.Z.post(l.QG,e,n).then((function(e){return console.log("RESPONSE ==== : ",e),e.data})).catch((function(e){return console.log("ERROR: ====",e),e.response.data.Message}))},o=function(e,t,n){var r={headers:{Authorization:"Bearer "+n,"Content-Type":"application/x-www-form-urlencoded"}};return a.Z.post(l.Hc,t,r).then((function(t){return console.log("RESPONSE ==== : ",t),e(t.data),t.data})).catch((function(e){return console.log("ERROR: ====",e),e.response.data.message}))},c=function(e,t){var n={headers:{Authorization:"Bearer "+t}};return a.Z.put(l.H7,e,n).then((function(e){return console.log("RESPONSE ==== : ",e),e.data})).catch((function(e){return console.log("ERROR: ====",e),e.response.data.Message}))},i=function(e,t){return a.Z.put(l.TX,e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return console.log("RESPONSE ==== : ",e),t(e.data),e.data})).catch((function(e){return console.log("ERROR: ====",e),e.response.data.message}))},s=function(e,t){console.log("deleting token",e);var n={headers:{Authorization:"Bearer "+e,"Content-Type":"application/x-www-form-urlencoded"}};return a.Z.post(l.k2,t,n).then((function(e){return console.log("RES==",e),e})).catch((function(e){return console.log("ERR==",e),e}))}},9595:function(e,t,n){n.d(t,{D:function(){return V}});var a=n(67294),l=n(22794),r=n(13946),o=n(48561),c=n(47556),i=n(9394),s=n(29875),m=n(14695),u=n(66808),d=n(57239),h=n(88319),p=n(31150),f=n(46940),v=n(71591),E=n(1426),g=n(49429),Z=n(9334),b=n(3851),x=n(98609),w=n(54448),y=n(82899),N=n(90592),k=n(31149),S=n(81386),R=n(56243),C=n(56201),z=n(97128),H=n(9640),L=n(75842),M=n(78865),V=[{id:"fire-extinguishers",name:"Fire extinguishers",icon:a.createElement(l.Z,null)},{id:"air-conditioned",name:"Air conditioned",icon:a.createElement(u.Z,null)},{id:"Elevator",name:"Elevator",icon:a.createElement(h.Z,null)},{id:"Pets allowed",name:"Pets allowed",icon:a.createElement(p.Z,null)},{id:"Outdoor-pool",name:"Outdoor-pool",icon:a.createElement(r.Z,null)},{id:"Indoor-pool",name:"Indoor-pool",icon:a.createElement(r.Z,null)},{id:"Spa and wellness center",name:"Spa and wellness center",icon:a.createElement(o.Z,null)},{id:"Fitness center",name:"Fitness center",icon:a.createElement(c.Z,null)},{id:"Restaurant",name:"Restaurant",icon:a.createElement(i.Z,null)},{id:"Bar/ Lounge",name:"Bar/ Lounge",icon:a.createElement(i.Z,null)},{id:"Room service",name:"Room service",icon:a.createElement(s.Z,null)},{id:"Free wifi",name:"Free wifi",icon:a.createElement(m.Z,null)},{id:"Coffee shop",name:"Coffee shop",icon:a.createElement(f.Z,null)},{id:"Free parking",name:"Free parking",icon:a.createElement(d.Z,null)},{id:"Minibar",name:"Minibar",icon:a.createElement(v.Z,null)},{id:"Snack bar",name:"Snack bar",icon:a.createElement(E.Z,null)},{id:"Shops on site",name:"Shops on site",icon:a.createElement(b.Z,null)},{id:"Golf",name:"Golf",icon:a.createElement(x.Z,null)},{id:"Ironing service",name:"Ironing service",icon:a.createElement(g.Z,null)},{id:"Gift shop",name:"Gift shop",icon:a.createElement(Z.Z,null)},{id:"Golf",name:"Golf",icon:a.createElement(x.Z,null)},{id:"Garden",name:"Garden",icon:a.createElement(w.Z,null)},{id:"Terrace/ Patio",name:"Terrace/ Patio",icon:a.createElement(y.Z,null)},{id:"ATM on-site",name:"ATM on-site",icon:a.createElement(k.Z,null)},{id:"Car rental",name:"Car rental",icon:a.createElement(S.Z,null)},{id:"Grill",name:"Grill",icon:a.createElement(N.Z,null)},{id:"Lake view",name:"Lake view",icon:a.createElement(R.Z,null)},{id:"City view",name:"City view",icon:a.createElement(C.Z,null)},{id:"Playground",name:"Playground",icon:a.createElement(z.Z,null)},{id:"Buffet",name:"Buffet",icon:a.createElement(H.Z,null)},{id:"Babysitting or childcare",name:"Babysitting or childcare",icon:a.createElement(L.Z,null)},{id:"Others",name:"Others",icon:a.createElement(M.Z,null)}]},13586:function(e,t,n){n.d(t,{Z:function(){return A}});var a=n(15861),l=n(42982),r=n(64687),o=n.n(r),c=n(67294),i=n(51181),s=n(30263),m=n(13508),u=n(24357),d=n(39259),h=n(19143),p=n(9459),f=n(27889),v=n(84509),E=n(46216),g=n(9595),Z=n(42096),b=n(10511),x=n(31690),w=n(80453),y=n(9143),N=n(58615),k=n(32978),S=n(39211),R=n(94434),C=n(11780),z=n(13200),H=n(21348),L=n(24157),M=n(72531),V=n(77133),T=n(6490),P=n(29285);var O=i.Ry({name:i.Z_().required("Enter your hotel's name"),address:i.Z_().required("Enter your hotel's address"),description:i.Z_().required("Enter the hotel's description"),province:i.Z_().required("Province is required"),criteria:i.IX(),imgURL:i.IX()});function A(e){var t=e.isVisible,n=e.isClose,r=e.detail,i=(0,c.useState)(0),A=(i[0],i[1],(0,c.useState)(!1)),I=(A[0],A[1]),B=(0,c.useState)([]),F=(B[0],B[1]),G=(0,c.useState)(!1),U=G[0],_=G[1],j=(0,c.useState)(!1),q=(j[0],j[1],(0,c.useState)([])),X=q[0],D=q[1],W=(0,c.useState)(),Q=W[0],Y=W[1],J=(0,c.useState)(""),K=(J[0],J[1],(0,c.useState)([])),$=(K[0],K[1],(0,c.useState)()),ee=($[0],$[1],(0,c.useState)()),te=(ee[0],ee[1]),ne=(0,c.useState)(1),ae=ne[0],le=ne[1],re=function(e){le(e)};(0,c.useEffect)((function(){(0,Z.lv)(Y)}),[]);var oe=[],ce=Q,ie=r.criteria.split(","),se=function(e){var t=X.indexOf(e.target.value);D(-1===t?[].concat((0,l.Z)(X),[e.target.value]):X.filter((function(t){return t!==e.target.value})))},me=function(){var e=(0,a.Z)(o().mark((function e(t){var n,a,l,r,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=t.target.files,"jqlebxmc",a=new FormData,F([]),I(!0),l=0;l<n.length;l++)r=n[l],a.append("file",r),a.append("upload_preset","jqlebxmc"),c=fetch(T.aZ,{method:"POST",body:a}),te(c),c.then((function(e){return e.json()})).then((function(e){return oe.push(e.url)}));de.values.imgURL=oe,I(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){(0,E.uX)("http://w22g1.int3306.freeddns.org/owner/ListHotelPage")},de=(0,b.TA)({initialValues:{name:r.name,description:r.description,address:r.address,province:r.province,criteria:["Coffee shop"],imgURL:r.Images},validationSchema:O,onSubmit:function(e){!function(e){var t=(0,E.oV)("ownerToken");console.log("token",t);var n=function(){var e=(0,a.Z)(o().mark((function e(n){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Z.HY)(n,t);case 2:a=e.sent,console.log("response",a),console.log("type",typeof a),"object"==typeof a?(k.Am.success("Update hotel details successfully"),setTimeout(ue,1e3)):(console.log("Update hotel details failed"),k.Am.error(a)),_(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();de.values.criteria=X.toString();var l={hotel_id:r.hotel_id,name:e.name,description:e.description,address:e.address,province:e.province,criteria:e.criteria,imgURL:e.imgURL};_(!0),n(l)}(e)}});return t?c.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-25 backdrop-blur-sm flex justify-center items-center z-20 "},c.createElement("div",{className:"w-11/12 flex flex-col z-20 h-5/6 rounded-2xl"},c.createElement("div",{className:"bg-white p-2 rounded flex flex-col m-2 overflow-y-scroll"},c.createElement("div",{className:"flex justify-between "},c.createElement("h2",{className:"font-bold text-2xl text-colorText ml-4 mt-2"},"Hotel ",r.name),c.createElement("button",{className:"text-light-close text-lg place-self-end hover:text-close-color",onClick:function(){return n()}},c.createElement(s.Z,null))),c.createElement(P.Z,null),c.createElement("div",{className:"flex flex-col relative w-screen md:w-auto w-full bg-light-primary break-all border-2 m-4"},c.createElement("div",{className:"flex"},c.createElement("div",{className:1===ae?"p-2.5 text-center w-6/12 cursor-pointer box-content relative outline-0 bg-white border-b-2 border-primary font-bold":"p-2.5 text-center w-6/12 cursor-pointer box-content relative outline-0 bg-light-primary",onClick:function(){return re(1)}},c.createElement("h2",null,"Hotel details")),c.createElement("div",{className:2===ae?"p-2.5 text-center w-6/12 cursor-pointer box-content relative outline-0 bg-white border-b-2 border-primary font-bold":"p-2.5 text-center w-6/12 cursor-pointer box-content relative outline-0 bg-light-primary",onClick:function(){return re(2)}},"Edit hotel details")),c.createElement("div",{className:"grow"},c.createElement("div",{className:1===ae?"bg-white p-5 w-full h-full p-6 transition duration-300 block":"bg-white p-5 w-full h-full p-6 transition duration-300 hidden"},c.createElement("h1",{className:"font-bold text-2xl mb-4"},"Hotel's detail"),c.createElement("div",{className:""},c.createElement("div",{className:"m-2 text-lg"},c.createElement("span",{className:"font-semibold text-sky-600"},c.createElement("span",{className:"mr-2 text-stone-700"},c.createElement(u.Z,null)),"Hotel's name:")," ",r.name),c.createElement("div",{className:"m-2 text-lg"},c.createElement("span",{className:"font-semibold text-sky-600"},c.createElement("span",{className:"mr-2 text-green-600"},c.createElement(d.Z,null)),"Province:")," ",r.province),c.createElement("div",{className:"m-2 text-lg"},c.createElement("span",{className:"font-semibold text-sky-600"},c.createElement("span",{className:"mr-2 text-red-500"},c.createElement(h.Z,null)),"Hotel's address:")," ",r.address),c.createElement("div",{className:"m-2 text-lg"},c.createElement("span",{className:"font-semibold text-sky-600"},c.createElement("span",{className:"mr-2"},c.createElement(f.Z,null)),"Hotel's description:")," ",r.description),c.createElement("div",{className:"m-2 text-lg"},c.createElement("span",{className:"font-semibold text-sky-600"},c.createElement("span",{className:"mr-2"},c.createElement(v.Z,null)),"Amenities:")," ",c.createElement("ul",{className:"ml-4"},ie.map((function(e,t){return c.createElement("li",{key:t},c.createElement("span",{className:"text-green-500 font-bold mr-1"},c.createElement(m.Z,null)),e)})))),c.createElement("div",{className:"m-2 text-lg"},c.createElement("span",{className:"font-semibold text-sky-600"},c.createElement("span",{className:"mr-2 text-stone-500"},c.createElement(p.Z,null)),"Hotel's images:")," ",0!==r.Images.length?r.Images.map((function(e,t){return c.createElement("img",{key:t,src:e.imgURL,className:"m-2"})})):c.createElement("div",null,"This hotel has no images")))),c.createElement("div",{className:2===ae?"bg-white p-5 w-full h-full p-6 transition duration-300 block":"bg-white p-5 w-full h-full p-6 transition duration-300 hidden"},c.createElement("h1",{className:"font-bold text-2xl mb-4"},"Edit hotel's detail"),c.createElement("form",{className:"flex flex-col m-4",onSubmit:de.handleSubmit},c.createElement(x.Z,{className:"my-2"},c.createElement(w.Z,{variant:"subtitle1"},"Hotel's name"),c.createElement(y.Z,{sx:{height:"85px"},placeholder:"Enter your hotel's name...",name:"name",value:de.values.name,error:de.touched.name&&Boolean(de.errors.name),onChange:de.handleChange,helperText:de.touched.name&&de.errors.name})),c.createElement(S.Z,{sx:{minWidth:120}},c.createElement(x.Z,{fullWidth:!0},c.createElement(L.Z,{id:"demo-simple-select-label"},"Province"),c.createElement(V.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:de.values.province,name:"province",label:"Province",onChange:de.handleChange,error:de.touched.province&&!!de.errors.province},void 0!==ce&&ce.map((function(e,t){return c.createElement(M.Z,{value:e.name,key:t},e.name)}))))),c.createElement(x.Z,{className:"my-2"},c.createElement(w.Z,{variant:"subtitle1"},"Address"),c.createElement(y.Z,{sx:{height:"85px"},placeholder:"Enter your hotel's address...",name:"address",value:de.values.address,error:de.touched.address&&Boolean(de.errors.address),onChange:de.handleChange,helperText:de.touched.address&&de.errors.address})),c.createElement(x.Z,{className:"my-2"},c.createElement(w.Z,{variant:"subtitle1"},"Hotel's description"),c.createElement(R.Z,{sx:{height:"85px"},style:{border:"1px solid black",padding:"4px",paddingLeft:"6px"},minRows:1,placeholder:"Enter your hotel's description...",name:"description",value:de.values.description,error:de.touched.description&&Boolean(de.errors.description),onChange:de.handleChange})),c.createElement(C.Z,null,"Amenities (Please select all criterias of your hotel)"),g.D.map((function(e,t){return c.createElement(z.Z,{key:t,control:c.createElement(H.Z,{name:"criteria",value:e.name,checked:X.includes(""+e.name),onChange:se}),label:c.createElement(c.Fragment,null,e.icon," ",e.name)})})),c.createElement(x.Z,{className:"my-2"},c.createElement(w.Z,{variant:"subtitle1"},"Hotel's imgURL"),c.createElement("input",{type:"file",onChange:me,multiple:!0,size:"50"}),0!==r.Images.length?r.Images.map((function(e,t){return c.createElement("img",{key:t,src:e.imgURL,className:"m-2"})})):c.createElement("div",null,"This hotel has no images")),c.createElement(N.Z,{type:"submit",loading:U,variant:"contained",className:"bg-sky-300 text-xl font-bold rounded-full mt-4 hover:bg-sky-500 hover:text-white py-2"},"Send")))))))):null}}}]);
//# sourceMappingURL=5ae633b8d3e2ce79fa44f78ee41ba1e1c3a0c9b2-8e21712c2c74982d54f3.js.map