"use strict";(self.webpackChunkbooking_hub=self.webpackChunkbooking_hub||[]).push([[574],{39259:function(e,t,n){var l=n(64836),a=n(75263);t.Z=void 0;var r=a(n(67294)),i=(0,l(n(58786)).default)(r.createElement("path",{d:"M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"}),"Map");t.Z=i},9595:function(e,t,n){n.d(t,{D:function(){return I}});var l=n(67294),a=n(22794),r=n(13946),i=n(48561),o=n(47556),c=n(9394),s=n(29875),m=n(14695),d=n(66808),u=n(57239),p=n(88319),E=n(31150),h=n(46940),f=n(71591),v=n(1426),g=n(49429),b=n(9334),x=n(3851),Z=n(98609),y=n(54448),w=n(82899),N=n(90592),k=n(31149),S=n(81386),C=n(56243),L=n(56201),R=n(97128),P=n(9640),T=n(75842),H=n(78865),I=[{id:"fire-extinguishers",name:"Fire extinguishers",icon:l.createElement(a.Z,null)},{id:"air-conditioned",name:"Air conditioned",icon:l.createElement(d.Z,null)},{id:"Elevator",name:"Elevator",icon:l.createElement(p.Z,null)},{id:"Pets allowed",name:"Pets allowed",icon:l.createElement(E.Z,null)},{id:"Outdoor-pool",name:"Outdoor-pool",icon:l.createElement(r.Z,null)},{id:"Indoor-pool",name:"Indoor-pool",icon:l.createElement(r.Z,null)},{id:"Spa and wellness center",name:"Spa and wellness center",icon:l.createElement(i.Z,null)},{id:"Fitness center",name:"Fitness center",icon:l.createElement(o.Z,null)},{id:"Restaurant",name:"Restaurant",icon:l.createElement(c.Z,null)},{id:"Bar/ Lounge",name:"Bar/ Lounge",icon:l.createElement(c.Z,null)},{id:"Room service",name:"Room service",icon:l.createElement(s.Z,null)},{id:"Free wifi",name:"Free wifi",icon:l.createElement(m.Z,null)},{id:"Coffee shop",name:"Coffee shop",icon:l.createElement(h.Z,null)},{id:"Free parking",name:"Free parking",icon:l.createElement(u.Z,null)},{id:"Minibar",name:"Minibar",icon:l.createElement(f.Z,null)},{id:"Snack bar",name:"Snack bar",icon:l.createElement(v.Z,null)},{id:"Shops on site",name:"Shops on site",icon:l.createElement(x.Z,null)},{id:"Golf",name:"Golf",icon:l.createElement(Z.Z,null)},{id:"Ironing service",name:"Ironing service",icon:l.createElement(g.Z,null)},{id:"Gift shop",name:"Gift shop",icon:l.createElement(b.Z,null)},{id:"Golf",name:"Golf",icon:l.createElement(Z.Z,null)},{id:"Garden",name:"Garden",icon:l.createElement(y.Z,null)},{id:"Terrace/ Patio",name:"Terrace/ Patio",icon:l.createElement(w.Z,null)},{id:"ATM on-site",name:"ATM on-site",icon:l.createElement(k.Z,null)},{id:"Car rental",name:"Car rental",icon:l.createElement(S.Z,null)},{id:"Grill",name:"Grill",icon:l.createElement(N.Z,null)},{id:"Lake view",name:"Lake view",icon:l.createElement(C.Z,null)},{id:"City view",name:"City view",icon:l.createElement(L.Z,null)},{id:"Playground",name:"Playground",icon:l.createElement(R.Z,null)},{id:"Buffet",name:"Buffet",icon:l.createElement(P.Z,null)},{id:"Babysitting or childcare",name:"Babysitting or childcare",icon:l.createElement(T.Z,null)},{id:"Others",name:"Others",icon:l.createElement(H.Z,null)}]},13586:function(e,t,n){n.d(t,{Z:function(){return B}});var l=n(15861),a=n(42982),r=n(64687),i=n.n(r),o=n(67294),c=n(51181),s=n(30263),m=n(13508),d=n(24357),u=n(39259),p=n(19143),E=n(9459),h=n(27889),f=n(84509),v=n(46216),g=n(9595),b=n(42096),x=n(10511),Z=n(31690),y=n(80453),w=n(9143),N=n(58615),k=n(32978),S=n(39211),C=n(94434),L=n(11780),R=n(13200),P=n(21348),T=n(24157),H=n(72531),I=n(77133),G=n(6490),U=n(29285);var A=c.Ry({name:c.Z_().required("Enter your hotel's name"),address:c.Z_().required("Enter your hotel's address"),description:c.Z_().required("Enter the hotel's description"),province:c.Z_().required("Province is required"),criteria:c.IX(),imgURL:c.IX()});function B(e){var t=e.isVisible,n=e.isClose,r=e.detail,c=(0,o.useState)(0),B=(c[0],c[1],(0,o.useState)(!1)),F=(B[0],B[1]),_=(0,o.useState)([]),q=(_[0],_[1]),M=(0,o.useState)(!1),V=M[0],j=M[1],O=(0,o.useState)(!1),z=(O[0],O[1],(0,o.useState)([])),D=z[0],X=z[1],W=(0,o.useState)(),Y=W[0],J=W[1],K=(0,o.useState)(""),Q=(K[0],K[1],(0,o.useState)([])),$=(Q[0],Q[1],(0,o.useState)()),ee=($[0],$[1],(0,o.useState)()),te=(ee[0],ee[1]),ne=(0,o.useState)(1),le=ne[0],ae=ne[1],re=function(e){ae(e)};(0,o.useEffect)((function(){(0,b.lv)(J)}),[]);var ie=[],oe=Y,ce=r.criteria.split(","),se=function(e){var t=D.indexOf(e.target.value);X(-1===t?[].concat((0,a.Z)(D),[e.target.value]):D.filter((function(t){return t!==e.target.value})))},me=function(){var e=(0,l.Z)(i().mark((function e(t){var n,l,a,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=t.target.files,"jqlebxmc",l=new FormData,q([]),F(!0),a=0;a<n.length;a++)r=n[a],l.append("file",r),l.append("upload_preset","jqlebxmc"),o=fetch(G.aZ,{method:"POST",body:l}),te(o),o.then((function(e){return e.json()})).then((function(e){return ie.push(e.url)}));ue.values.imgURL=ie,F(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){(0,v.uX)("http://w22g1.int3306.freeddns.org/owner/ListHotelPage")},ue=(0,x.TA)({initialValues:{name:r.name,description:r.description,address:r.address,province:r.province,criteria:["Coffee shop"],imgURL:r.Images},validationSchema:A,onSubmit:function(e){!function(e){var t=(0,v.oV)("ownerToken");console.log("token",t);var n=function(){var e=(0,l.Z)(i().mark((function e(n){var l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.HY)(n,t);case 2:l=e.sent,console.log("response",l),console.log("type",typeof l),"object"==typeof l?(k.Am.success("Update hotel details successfully"),setTimeout(de,1e3)):(console.log("Update hotel details failed"),k.Am.error(l)),j(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();ue.values.criteria=D.toString();var a={hotel_id:r.hotel_id,name:e.name,description:e.description,address:e.address,province:e.province,criteria:e.criteria,imgURL:e.imgURL};j(!0),n(a)}(e)}});return t?o.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-25 backdrop-blur-sm flex justify-center items-center z-20 "},o.createElement("div",{className:"w-11/12 flex flex-col z-20 h-5/6 rounded-2xl"},o.createElement("div",{className:"bg-white p-2 rounded flex flex-col m-2 overflow-y-scroll"},o.createElement("div",{className:"flex justify-between "},o.createElement("h2",{className:"font-bold text-2xl text-colorText ml-4 mt-2"},"Hotel ",r.name),o.createElement("button",{className:"text-light-close text-lg place-self-end hover:text-close-color",onClick:function(){return n()}},o.createElement(s.Z,null))),o.createElement(U.Z,null),o.createElement("div",{className:"flex flex-col relative w-screen md:w-auto w-full bg-light-primary break-all border-2 m-4"},o.createElement("div",{className:"flex"},o.createElement("div",{className:1===le?"p-2.5 text-center w-6/12 cursor-pointer box-content relative outline-0 bg-white border-b-2 border-primary font-bold":"p-2.5 text-center w-6/12 cursor-pointer box-content relative outline-0 bg-light-primary",onClick:function(){return re(1)}},o.createElement("h2",null,"Hotel details")),o.createElement("div",{className:2===le?"p-2.5 text-center w-6/12 cursor-pointer box-content relative outline-0 bg-white border-b-2 border-primary font-bold":"p-2.5 text-center w-6/12 cursor-pointer box-content relative outline-0 bg-light-primary",onClick:function(){return re(2)}},"Edit hotel details")),o.createElement("div",{className:"grow"},o.createElement("div",{className:1===le?"bg-white p-5 w-full h-full p-6 transition duration-300 block":"bg-white p-5 w-full h-full p-6 transition duration-300 hidden"},o.createElement("h1",{className:"font-bold text-2xl mb-4"},"Hotel's detail"),o.createElement("div",{className:""},o.createElement("div",{className:"m-2 text-lg"},o.createElement("span",{className:"font-semibold text-sky-600"},o.createElement("span",{className:"mr-2 text-stone-700"},o.createElement(d.Z,null)),"Hotel's name:")," ",r.name),o.createElement("div",{className:"m-2 text-lg"},o.createElement("span",{className:"font-semibold text-sky-600"},o.createElement("span",{className:"mr-2 text-green-600"},o.createElement(u.Z,null)),"Province:")," ",r.province),o.createElement("div",{className:"m-2 text-lg"},o.createElement("span",{className:"font-semibold text-sky-600"},o.createElement("span",{className:"mr-2 text-red-500"},o.createElement(p.Z,null)),"Hotel's address:")," ",r.address),o.createElement("div",{className:"m-2 text-lg"},o.createElement("span",{className:"font-semibold text-sky-600"},o.createElement("span",{className:"mr-2"},o.createElement(h.Z,null)),"Hotel's description:")," ",r.description),o.createElement("div",{className:"m-2 text-lg"},o.createElement("span",{className:"font-semibold text-sky-600"},o.createElement("span",{className:"mr-2"},o.createElement(f.Z,null)),"Amenities:")," ",o.createElement("ul",{className:"ml-4"},ce.map((function(e,t){return o.createElement("li",{key:t},o.createElement("span",{className:"text-green-500 font-bold mr-1"},o.createElement(m.Z,null)),e)})))),o.createElement("div",{className:"m-2 text-lg"},o.createElement("span",{className:"font-semibold text-sky-600"},o.createElement("span",{className:"mr-2 text-stone-500"},o.createElement(E.Z,null)),"Hotel's images:")," ",0!==r.Images.length?r.Images.map((function(e,t){return o.createElement("img",{key:t,src:e.imgURL,className:"m-2"})})):o.createElement("div",null,"This hotel has no images")))),o.createElement("div",{className:2===le?"bg-white p-5 w-full h-full p-6 transition duration-300 block":"bg-white p-5 w-full h-full p-6 transition duration-300 hidden"},o.createElement("h1",{className:"font-bold text-2xl mb-4"},"Edit hotel's detail"),o.createElement("form",{className:"flex flex-col m-4",onSubmit:ue.handleSubmit},o.createElement(Z.Z,{className:"my-2"},o.createElement(y.Z,{variant:"subtitle1"},"Hotel's name"),o.createElement(w.Z,{sx:{height:"85px"},placeholder:"Enter your hotel's name...",name:"name",value:ue.values.name,error:ue.touched.name&&Boolean(ue.errors.name),onChange:ue.handleChange,helperText:ue.touched.name&&ue.errors.name})),o.createElement(S.Z,{sx:{minWidth:120}},o.createElement(Z.Z,{fullWidth:!0},o.createElement(T.Z,{id:"demo-simple-select-label"},"Province"),o.createElement(I.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:ue.values.province,name:"province",label:"Province",onChange:ue.handleChange,error:ue.touched.province&&!!ue.errors.province},void 0!==oe&&oe.map((function(e,t){return o.createElement(H.Z,{value:e.name,key:t},e.name)}))))),o.createElement(Z.Z,{className:"my-2"},o.createElement(y.Z,{variant:"subtitle1"},"Address"),o.createElement(w.Z,{sx:{height:"85px"},placeholder:"Enter your hotel's address...",name:"address",value:ue.values.address,error:ue.touched.address&&Boolean(ue.errors.address),onChange:ue.handleChange,helperText:ue.touched.address&&ue.errors.address})),o.createElement(Z.Z,{className:"my-2"},o.createElement(y.Z,{variant:"subtitle1"},"Hotel's description"),o.createElement(C.Z,{sx:{height:"85px"},style:{border:"1px solid black",padding:"4px",paddingLeft:"6px"},minRows:1,placeholder:"Enter your hotel's description...",name:"description",value:ue.values.description,error:ue.touched.description&&Boolean(ue.errors.description),onChange:ue.handleChange})),o.createElement(L.Z,null,"Amenities (Please select all criterias of your hotel)"),g.D.map((function(e,t){return o.createElement(R.Z,{key:t,control:o.createElement(P.Z,{name:"criteria",value:e.name,checked:D.includes(""+e.name),onChange:se}),label:o.createElement(o.Fragment,null,e.icon," ",e.name)})})),o.createElement(Z.Z,{className:"my-2"},o.createElement(y.Z,{variant:"subtitle1"},"Hotel's imgURL"),o.createElement("input",{type:"file",onChange:me,multiple:!0,size:"50"}),0!==r.Images.length?r.Images.map((function(e,t){return o.createElement("img",{key:t,src:e.imgURL,className:"m-2"})})):o.createElement("div",null,"This hotel has no images")),o.createElement(N.Z,{type:"submit",loading:V,variant:"contained",className:"bg-sky-300 text-xl font-bold rounded-full mt-4 hover:bg-sky-500 hover:text-white py-2"},"Send")))))))):null}}}]);
//# sourceMappingURL=9d43b7f8f0fcc69456bd4010dc8b65518b8d4e46-24243e41ef01fb8f1468.js.map