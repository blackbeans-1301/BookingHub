"use strict";(self.webpackChunkbooking_hub=self.webpackChunkbooking_hub||[]).push([[139],{7177:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});var r=n(67294),a=n(15861),l=n(42982),o=n(64687),c=n.n(o),m=n(51181),i=n(9394),u=n(29875),s=n(14695),d=n(49429),p=n(12531),h=n(30745),E=n(47563),f=n(36072),g=n(51421),Z=n(84573),b=n(95024),y=n(58526),v=n(84781),_=n(97435),k=n(10511),x=n(31690),C=n(80453),N=n(9143),T=n(58615),w=n(32978),F=n(39211),q=n(94434),R=n(11780),S=n(94575),L=n(13200),B=n(21348),A=n(24157),U=n(72531),H=n(77133),I=n(6490),V=n(29285),j=n(95817),P=n(42096),W=n(68175),X=n(46216),z=m.Ry({hotel:m.Ry({Images:m.IX(),address:m.Z_(),criteria:m.Z_(),description:m.Z_(),hotel_id:m.Z_(),name:m.Z_(),province:m.Z_(),rating:m.Z_()}).required("This field is required"),room_name:m.Z_().required("Enter your room's name"),type_of_room:m.Z_().required("Enter your room's type"),number_of_bed:m.Rx().integer().min(0).required("This field is required"),price:m.Rx().min(0).required("This field is required"),capacity:m.Rx().integer().min(0).required("This field is required"),criteria:m.Z_(),description:m.Z_().required("This field is required"),imgURL:m.IX().required("Image field is required")});function D(){var e=(0,r.useState)(0),t=(e[0],e[1],(0,r.useState)(!1)),n=(t[0],t[1]),o=(0,r.useState)([]),m=(o[0],o[1]),D=(0,r.useState)(!1),G=D[0],J=D[1],O=(0,r.useState)(!1),M=(O[0],O[1],(0,r.useState)([])),Q=M[0],Y=M[1],K=(0,r.useState)(),$=K[0],ee=K[1],te=[],ne=(0,X.oV)("ownerToken");(0,r.useEffect)((function(){(0,P.mH)(ee,ne)}),[]),console.log("all hotels",$),console.log(Q);var re=function(e){var t=Q.indexOf(e.target.value);Y(-1===t?[].concat((0,l.Z)(Q),[e.target.value]):Q.filter((function(t){return t!==e.target.value})))},ae=function(){var e=(0,a.Z)(c().mark((function e(t){var r,a,l,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=t.target.files,console.log("files",r),"jqlebxmc",a=new FormData,m([]),n(!0),l=0;l<r.length;l++)o=r[l],a.append("file",o),a.append("upload_preset","jqlebxmc"),fetch(I.aZ,{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){return te.push(e.url)}));oe.values.imgURL=te,n(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){(0,X.uX)("http://w22g1.int3306.freeddns.org/owner/ListHotelPage")},oe=(0,k.TA)({initialValues:{hotel:"",room_name:"",criteria:"",number_of_bed:"",type_of_room:"",price:"",capacity:"",description:"",imgURL:[]},validationSchema:z,onSubmit:function(e){console.log("value",e),function(e){console.log(e);var t=(0,X.oV)("ownerToken");console.log("token",t);var n=function(){var e=(0,a.Z)(c().mark((function e(n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,j.Fp)(n,t);case 2:r=e.sent,console.log("response",r),console.log("type",typeof r),"object"==typeof r?(w.Am.success("Create a new room successfully"),setTimeout(le,1e3)):(console.log("Create a new room failed"),w.Am.error(r)),J(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();oe.values.criteria=Q.toString();var r={hotel:e.hotel,room_name:e.room_name,criteria:e.criteria,number_of_bed:e.number_of_bed,type_of_room:e.type_of_room,price:e.price,capacity:e.capacity,description:e.description,imgURL:e.imgURL};console.log("data",r),J(!0),n(r)}(e)}});return r.createElement("div",null,r.createElement("h1",{className:"font-bold text-2xl m-5"},"Create a new room"),r.createElement(V.Z,null),r.createElement("form",{className:"flex flex-col m-4",onSubmit:oe.handleSubmit},r.createElement(F.Z,{sx:{minWidth:120}},r.createElement(x.Z,{fullWidth:!0},r.createElement(A.Z,{id:"demo-simple-select-label"},"Hotel's name"),r.createElement(H.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:oe.values.hotel,name:"hotel",label:"Hotel's name",onChange:oe.handleChange,error:oe.touched.hotel&&!!oe.errors.hotel},void 0!==$&&$.map((function(e,t){return r.createElement(U.Z,{value:e,key:t},e.name)}))))),r.createElement(x.Z,{className:"my-2"},r.createElement(C.Z,{variant:"subtitle1"},"Room's name"),r.createElement(N.Z,{sx:{height:"85px"},placeholder:"Enter your room's name...",name:"room_name",value:oe.values.room_name,error:oe.touched.room_name&&Boolean(oe.errors.room_name),onChange:oe.handleChange,helperText:oe.touched.room_name&&oe.errors.room_name})),r.createElement(x.Z,{className:"my-2"},r.createElement(C.Z,{variant:"subtitle1"},"Room's type"),r.createElement(N.Z,{sx:{height:"85px"},placeholder:"Enter your hotel's type...",name:"type_of_room",value:oe.values.type_of_room,error:oe.touched.type_of_room&&Boolean(oe.errors.type_of_room),onChange:oe.handleChange,helperText:oe.touched.type_of_room&&oe.errors.type_of_room})),r.createElement(x.Z,{className:"my-2"},r.createElement(C.Z,{variant:"subtitle1"},"Number of beds"),r.createElement(N.Z,{sx:{height:"85px"},placeholder:"Enter the number of beds...",name:"number_of_bed",value:oe.values.number_of_bed,error:oe.touched.number_of_bed&&Boolean(oe.errors.number_of_bed),onChange:oe.handleChange,helperText:oe.touched.number_of_bed&&oe.errors.number_of_bed})),r.createElement(x.Z,{className:"my-2"},r.createElement(C.Z,{variant:"subtitle1"},"Capacity"),r.createElement(N.Z,{sx:{height:"85px"},placeholder:"Enter the capacity...",name:"capacity",value:oe.values.capacity,error:oe.touched.capacity&&Boolean(oe.errors.capacity),onChange:oe.handleChange,helperText:oe.touched.capacity&&oe.errors.capacity})),r.createElement(x.Z,{className:"my-2"},r.createElement(C.Z,{variant:"subtitle1"},"Price for a night"),r.createElement(N.Z,{sx:{height:"85px"},placeholder:"Enter the price for a night...",name:"price",value:oe.values.price,error:oe.touched.price&&Boolean(oe.errors.price),onChange:oe.handleChange,helperText:oe.touched.price&&oe.errors.price})),r.createElement(x.Z,{className:"my-2"},r.createElement(C.Z,{variant:"subtitle1"},"Hotel's description"),r.createElement(q.Z,{sx:{height:"85px"},style:{border:"1px solid black",padding:"4px",paddingLeft:"6px"},minRows:3,placeholder:"Enter your hotel's description...",name:"description",value:oe.values.description,error:oe.touched.description&&Boolean(oe.errors.description),onChange:oe.handleChange,helperText:oe.touched.description&&oe.errors.description})),r.createElement(R.Z,null,"Amenities (select criterias of your hotel)"),r.createElement(S.Z,null,r.createElement("p",{className:"font-bold"},r.createElement(p.Z,null),r.createElement("span",{className:"ml-2"},"General")),W.AZ.map((function(e,t){return r.createElement(L.Z,{control:r.createElement(B.Z,{value:e.id,checked:Q.includes(""+e.id),onChange:re}),label:r.createElement(r.Fragment,null,e.name),key:t})})),r.createElement("p",{className:"font-bold"},r.createElement(i.Z,null),"Food & Drink"),W.JY.map((function(e,t){return r.createElement(L.Z,{control:r.createElement(B.Z,{value:e.id,checked:Q.includes(""+e.id),onChange:re}),label:r.createElement(r.Fragment,null,e.name),key:t})})),r.createElement("p",{className:"font-bold"},r.createElement(s.Z,null),"Internet"),W.hz.map((function(e,t){return r.createElement(L.Z,{control:r.createElement(B.Z,{value:e.id,checked:Q.includes(""+e.id),onChange:re}),label:r.createElement(r.Fragment,null,e.name),key:t})})),r.createElement("p",{className:"font-bold"},r.createElement(u.Z,null),"Reception services"),W.hb.map((function(e,t){return r.createElement(L.Z,{control:r.createElement(B.Z,{value:e.id,checked:Q.includes(""+e.id),onChange:re}),label:r.createElement(r.Fragment,null,e.name),key:t})})),r.createElement("p",{className:"font-bold"},r.createElement(d.Z,null),"Cleaning services"),W.Pv.map((function(e,t){return r.createElement(L.Z,{control:r.createElement(B.Z,{value:e.id,checked:Q.includes(""+e.id),onChange:re}),label:r.createElement(r.Fragment,null,e.name),key:t})})),r.createElement("p",{className:"font-bold"},r.createElement(E.Z,null),"Bathroom"),W.mX.map((function(e,t){return r.createElement(L.Z,{control:r.createElement(B.Z,{value:e.id,checked:Q.includes(""+e.id),onChange:re}),label:r.createElement(r.Fragment,null,e.name),key:t})})),r.createElement("p",{className:"font-bold"},r.createElement(f.Z,null),"Living Area"),W.by.map((function(e,t){return r.createElement(L.Z,{control:r.createElement(B.Z,{value:e.id,checked:Q.includes(""+e.id),onChange:re}),label:r.createElement(r.Fragment,null,e.name),key:t})})),r.createElement("p",{className:"font-bold"},r.createElement(g.Z,null),"Safety & Security"),W.tV.map((function(e,t){return r.createElement(L.Z,{control:r.createElement(B.Z,{value:e.id,checked:Q.includes(""+e.id),onChange:re}),label:r.createElement(r.Fragment,null,e.name),key:t})})),r.createElement("p",{className:"font-bold"},r.createElement(Z.Z,null),"Bedroom"),W.p4.map((function(e,t){return r.createElement(L.Z,{control:r.createElement(B.Z,{value:e.id,checked:Q.includes(""+e.id),onChange:re}),label:r.createElement(r.Fragment,null,e.name),key:t})})),r.createElement("p",{className:"font-bold"},r.createElement(b.Z,null),"Activities"),W.QJ.map((function(e,t){return r.createElement(L.Z,{control:r.createElement(B.Z,{value:e.id,checked:Q.includes(""+e.id),onChange:re}),label:r.createElement(r.Fragment,null,e.name),key:t})})),r.createElement("p",{className:"font-bold"},r.createElement(h.Z,null),"Media & Technology"),W.ZG.map((function(e,t){return r.createElement(L.Z,{control:r.createElement(B.Z,{value:e.id,checked:Q.includes(""+e.id),onChange:re}),label:r.createElement(r.Fragment,null,e.name),key:t})})),r.createElement("p",{className:"font-bold"},r.createElement(y.Z,null),"Transport"),W.WW.map((function(e,t){return r.createElement(L.Z,{control:r.createElement(B.Z,{value:e.id,checked:Q.includes(""+e.id),onChange:re}),label:r.createElement(r.Fragment,null,e.name),key:t})})),r.createElement("p",{className:"font-bold"},r.createElement(v.Z,null),"View"),W.bR.map((function(e,t){return r.createElement(L.Z,{control:r.createElement(B.Z,{value:e.id,checked:Q.includes(""+e.id),onChange:re}),label:r.createElement(r.Fragment,null,e.name),key:t})})),r.createElement("p",{className:"font-bold"},r.createElement(_.Z,null),"Languages spoken"),W.U5.map((function(e,t){return r.createElement(L.Z,{control:r.createElement(B.Z,{value:e.id,checked:Q.includes(""+e.id),onChange:re}),label:r.createElement(r.Fragment,null,e.name),key:t})}))),r.createElement(x.Z,{className:"my-2"},r.createElement(C.Z,{variant:"subtitle1"},"Hotel's imgURL"),r.createElement("input",{type:"file",onChange:ae,multiple:!0,size:"50"})),r.createElement(T.Z,{type:"submit",loading:G,variant:"contained",className:"bg-sky-300 text-xl font-bold rounded-full mt-4 hover:bg-sky-500 hover:text-white py-2"},"Send")))}var G=n(81584);function J(){return r.createElement(G.Z,null,r.createElement(D,null))}}}]);
//# sourceMappingURL=component---src-pages-owner-create-room-page-js-a5fa4777e5c6f2d2dc86.js.map