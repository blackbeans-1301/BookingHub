"use strict";(self.webpackChunkbooking_hub=self.webpackChunkbooking_hub||[]).push([[117],{61873:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var r=a(67294),l=a(81584),s=a(15861),n=a(64687),c=a.n(n),o=a(4969),m=a(12531),i=a(42096),d=a(83290),x=(a(13586),a(46216)),p=a(51181),u=a(30263),b=a(10511),f=a(32978),g=(a(6490),a(29285)),y=a(95817),E=p.Ry({room_name:p.Z_().required("Enter your room's name"),description:p.Z_().required("Enter the hotel's description"),criteria:p.Z_(),imgURL:p.IX(),price:p.Z_().required("Price is required"),number_of_bed:p.Z_().required("Number of bed is required")});function h(e){var t=e.isVisible,a=e.isClose,l=e.detail,n=(0,r.useState)(!1),o=(n[0],n[1]),m=(0,r.useState)([]),d=m[0],p=(m[1],(0,r.useState)()),h=(p[0],p[1]);(0,r.useEffect)((function(){(0,i.lv)(h)}),[]);var N=function(){(0,x.uX)("http://w22g1.int3306.freeddns.org/owner/ListHotelPage")},w=(0,b.TA)({initialValues:{criteria:""},validationSchema:E,onSubmit:function(e){console.log("value",e),function(e){var t=(0,x.oV)("ownerToken");console.log("token",t);var a=function(){var e=(0,s.Z)(c().mark((function e(a){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.updateHotelInfor)(a,t);case 2:r=e.sent,console.log("response",r),console.log("type",typeof r),"object"==typeof r?(f.Am.success("Update room details successfully"),setTimeout(N,1e3)):(console.log("Update room details failed"),f.Am.error(r)),o(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();w.values.criteria=d.toString();var r={hotel:{},room_name:e.room_name,criteria:e.criteria,price:e.price,number_of_bed:e.number_of_bed,description:e.description,imgURL:e.imgURL};o(!0),a(r)}(e)}});return console.log("detail",l),t?r.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-25 backdrop-blur-sm flex justify-center items-center z-20 "},r.createElement("div",{className:"w-11/12 flex flex-col z-20 h-5/6 rounded-2xl"},r.createElement("div",{className:"bg-white p-2 rounded flex flex-col m-2 overflow-y-scroll"},r.createElement("div",{className:"flex justify-between "},r.createElement("h2",{className:"font-bold text-2xl text-colorText ml-4 mt-2"},"Reservation Details"),r.createElement("button",{className:"text-light-close text-lg place-self-end hover:text-close-color",onClick:function(){return a()}},r.createElement(u.Z,null))),r.createElement(g.Z,null),r.createElement("div",{className:"flex flex-col relative w-screen md:w-auto w-full break-all border-2 m-4"},r.createElement("div",{className:"border-2 border-sky-300 flex"},r.createElement("div",{className:"flex-1 flex flex-col"},r.createElement("div",{className:"flex flex-col m-2"},r.createElement("span",{className:"text-sm"},"Check in: "),r.createElement("span",{className:"text-lg font-bold text-sky-600"},null!=l.check_in?l.check_in:"___")),r.createElement("div",{className:"flex flex-col m-2"},r.createElement("span",{className:"text-sm"},"Check out: "),r.createElement("span",{className:"text-lg font-bold text-sky-600"},null!=l.check_out?l.check_out:"___")),r.createElement("div",{className:"flex flex-col m-2"},r.createElement("span",{className:"text-sm"},"Date in (expected): "),r.createElement("span",{className:"text-lg font-bold text-sky-600"},l.date_in)),r.createElement("div",{className:"flex flex-col m-2"},r.createElement("span",{className:"text-sm"},"Date out (expected): "),r.createElement("span",{className:"text-lg font-bold text-sky-600"},l.date_out)),r.createElement("div",{className:"flex flex-col m-2"},r.createElement("span",{className:"text-sm"},"Total rooms: "),r.createElement("span",{className:"text-lg font-bold text-sky-600"},l.number_of_rooms))),r.createElement("div",{className:"flex3"},r.createElement("div",{className:"flex flex-col m-2"},r.createElement("span",{className:"text-sm"},"Guest's name: "),r.createElement("span",{className:"text-lg font-bold text-sky-600"},l.name)),r.createElement("div",{className:"flex flex-col m-2"},r.createElement("span",{className:"text-sm"},"Guest's email: "),r.createElement("span",{className:"text-lg font-bold text-sky-600"},l.email)),r.createElement("div",{className:"flex"},r.createElement("div",{className:"flex flex-col mr-8"},r.createElement("div",{className:"flex flex-col m-2"},r.createElement("span",{className:"text-sm"},"Booking number: "),r.createElement("span",{className:"text-lg font-bold text-sky-600"},l.phone)),r.createElement("div",{className:"flex flex-col m-2"},r.createElement("span",{className:"text-sm"},"Status: "),r.createElement("span",{className:"text-lg font-bold text-sky-600"},r.createElement("span",{className:"waiting"===l.status?"text-sky-400 ":"canceled"===l.status?"text-red-400":"completed"===l.status?"text-green-400":"text-amber-400"},l.status.toUpperCase())))),r.createElement("div",{className:"flex flex-col ml-8"},r.createElement("div",{className:"flex flex-col m-2"},r.createElement("span",{className:"text-sm"},"Reservation id: "),r.createElement("span",{className:"text-lg font-bold text-sky-600"},l.reservation_id)),r.createElement("div",{className:"flex flex-col m-2 justify-end"},r.createElement("span",{className:"text-lg font-semibold text-green-600"},"Total price:"," "),r.createElement("span",{className:"text-xl font-bold"},l.Bill.total_price,"$")))))))))):null}var N=a(91398),w=a(27783),v=function(){var e=(0,r.useState)(!1),t=e[0],a=e[1],l=(0,r.useState)(),n=l[0],i=l[1],p=(0,r.useState)(!1),u=p[0],b=p[1],f=(0,r.useState)(),g=f[0],y=f[1],E=(0,r.useState)(),v=E[0],k=E[1],_=(0,r.useState)(!1),S=_[0],C=(_[1],(0,r.useState)()),T=C[0],Z=C[1],U=(0,x.oV)("ownerToken");return(0,r.useEffect)((function(){var e=function(){var e=(0,s.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.wO)(U);case 2:t=e.sent,console.log(t),i(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),null==n?null:r.createElement("div",{className:"m-4 bg-white w-screen z-10 md:w-auto w-full"},r.createElement("div",{className:"flex mt-3"},r.createElement("div",{className:"relative flex items-center text-gray-400 focus-within:text-gray-600 w-5/6"},r.createElement(o.Z,{className:"w-5 h-5 absolute ml-3 pointer-events-none"}),r.createElement("input",{className:"md:w-full pr-3 pl-10 py-2 font-semibold placeholder-gray-500 text-colorText rounded-2xl boder-none ring-2 ring-gray-300 focus:ring-primary-500 focus: ring-2",type:"text",placeholder:"Search..."})),r.createElement("div",{className:"w-1/6"},r.createElement("button",{className:"w-3/4 h-full px-2 rounded-full bg-white text-colorText flex items-center justify-center ml-2 border-2 border-light-primary hover:bg-primary hover:text-white hover:shadow-md hover:shadow-gray-200"},r.createElement(o.Z,null),r.createElement("span",null,"Search")))),r.createElement("h1",{className:"font-bold text-2xl mb-3 text-colorText mt-3"},"List of reservation"),r.createElement("div",{className:"container mx-auto px-4 sm:px-8"},r.createElement("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto"},r.createElement("div",{className:"inline-block min-w-full shadow-md rounded-lg overflow-hidden"},r.createElement("table",{className:"min-w-full leading-normal"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"},"No"),r.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"},"Number of rooms"),r.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"},"Guest's name"),r.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"},"Guest's email"),r.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"},"Guest's phone number"),r.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"},"Date in"),r.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"},"Date out"),r.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"},"Status"),r.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"},"Actions"),r.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100"}))),r.createElement("tbody",null,void 0!==n&&n.map((function(e,l){return r.createElement(r.Fragment,{key:l},r.createElement("tr",null,r.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},r.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},l+1)),r.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},r.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},e.number_of_rooms)),r.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},r.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},e.name)),r.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},r.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},e.email)),r.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},r.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},e.phone)),r.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},r.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},(0,w.Um)(e.date_in))),r.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},r.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},(0,w.Um)(e.date_out))),r.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},r.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},r.createElement("span",{className:"waiting"===e.status?"text-sky-400 ":"canceled"===e.status?"text-red-400":"completed"===e.status?"text-green-400":"text-amber-400"},e.status.toUpperCase()))),r.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm text-right"},r.createElement("span",{className:"flex"},r.createElement("button",{type:"button",className:"inline-block mx-px text-green-300 hover:text-green-500 mr-2",onClick:function(){setTimeout(a(!0),2e3)}},r.createElement(m.Z,null)))),r.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},r.createElement("p",{className:"text-gray-900p"},r.createElement("button",{className:"px-3 py-1 text-colorText rounded-full border-2 border-primary my-4 hover:bg-primary hover:text-white font-semibold",onClick:function(){console.log("click check in"),y("This guest will be checked in. You can't undo this action."),b(!0),k("checkIn"),console.log("verified",S),Z(e.reservation_id)}},"Check-in"),r.createElement("button",{className:"px-3 py-1 text-colorText rounded-full border-2 border-primary my-4 hover:bg-primary hover:text-white font-semibold",onClick:function(){console.log("click check out"),y("This guest will be checked out. You can't undo this action."),b(!0),k("checkOut"),console.log("verified",S),Z(e.reservation_id)}},"Check-out")))),t&&r.createElement(h,{isVisible:t,isClose:function(){return a(!1)},detail:e}),u&&r.createElement(N.Z,{isVisible:u,isClose:function(){return b(!1)},detail:g,type:v,id:T}))}))))))))};function k(){return r.createElement(l.Z,null,r.createElement(v,null))}}}]);
//# sourceMappingURL=component---src-pages-owner-list-reservation-js-bd5e11bace2c2c220822.js.map