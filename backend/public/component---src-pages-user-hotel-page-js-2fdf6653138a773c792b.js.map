{"version":3,"file":"component---src-pages-user-hotel-page-js-2fdf6653138a773c792b.js","mappings":"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","sources":["webpack://booking-hub/./src/apis/hotelApi.js","webpack://booking-hub/./src/pages/user/HotelPage.js"],"sourcesContent":["import axios from \"axios\";\nimport {\n  GET_PROVINCES_URL,\n  CREATE_HOTEL_URL,\n  GET_ALL_HOTELS_URL,\n  GET_HOTEL_BY_ID_URL,\n  UPDATE_HOTEL_URL,\n  SEARCH_HOTEL_BY_CRITERIA_URL,\n  GET_ALL_RESERVATIONS_OF_HOTEL_URL,\n  SEARCH_HOTEL_BY_KEYWORD_URL,\n  DELETE_HOTEL_URL,\n} from \"../configs/api\";\n\nexport const getAllProvinces = (setAll) => {\n  fetch(GET_PROVINCES_URL)\n    .then((response) => response.json())\n    .then((data) => {\n      setAll(data);\n      return data;\n    })\n    .catch((e) => {\n      console.log(e);\n    });\n};\n\n// function create a new hotel\nexport const createHotelApi = (data, tokenStr) => {\n  const options = {\n    headers: {\n      Authorization: `Bearer ${tokenStr}`,\n    },\n  };\n  const response = axios\n    .post(CREATE_HOTEL_URL, data, options)\n    .then((res) => {\n      return res.data;\n    })\n    .catch((err) => {\n      console.log(\"ERROR: ====\", err);\n      return err.response.data.Message;\n    });\n\n  return response;\n};\n\n// function get all hotels\nexport const getAllHotels = (setAllHotels, tokenStr) => {\n  var myHeaders = new Headers();\n  myHeaders.append(\"Authorization\", `Bearer ${tokenStr}`);\n\n  var requestOptions = {\n    method: \"GET\",\n    headers: myHeaders,\n    redirect: \"follow\",\n  };\n\n  fetch(GET_ALL_HOTELS_URL, requestOptions)\n    .then((response) => response.json())\n    .then((data) => {\n      setAllHotels(data);\n      return data;\n    });\n};\n\n// function get hotel by id\nexport const getHotelById = (id, setHotel) => {\n  let URL = `${GET_HOTEL_BY_ID_URL}/${id}`;\n  console.log(\"url\", URL);\n\n  var requestOptions = {\n    method: \"GET\",\n    \n  };\n\n  const response = axios\n    .get(URL)\n    .then((res) => {\n      console.log(\"res==\", res);\n      setHotel(res.data);\n      return res.data;\n    })\n    .catch((err) => {\n      console.log(\"ERROR: ====\", err);\n      return err.response.data.Message;\n    });\n  return response;\n};\n\n// function update information of a hotel\nexport const updateHotelInfor = (data, tokenStr) => {\n  const options = {\n    headers: {\n      Authorization: `Bearer ${tokenStr}`,\n    },\n  };\n  const response = axios\n    .put(UPDATE_HOTEL_URL, data, options)\n    .then((res) => {\n      console.log(\"RESPONSE ==== : \", res);\n      return res.data;\n    })\n    .catch((err) => {\n      console.log(\"ERROR: ====\", err);\n      return err.response.data.Message;\n    });\n\n  return response;\n};\n\n// function search hotels by some criterias\nexport const searchHotelByCriteria = (data, setHotel) => {\n  const options = {\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n    },\n  };\n\n  const response = axios\n    .put(SEARCH_HOTEL_BY_CRITERIA_URL, data, options)\n    .then((res) => {\n      console.log(\"RESPONSE:\", res);\n      setHotel(res.data);\n      return res.data;\n    })\n    .catch((err) => {\n      console.log(\"ERROR:\", err);\n    });\n\n  return response;\n};\n\n// function get all reservation of a hotel\nexport const getReservationOfHotel = (hotelID, token, setReservation) => {\n  let URL = `${GET_ALL_RESERVATIONS_OF_HOTEL_URL}/${hotelID}`;\n  console.log(\"url\", URL);\n\n  const options = {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  };\n\n  const response = axios\n    .get(URL, options)\n    .then((res) => {\n      console.log(\"res==\", res);\n      setReservation(res.data);\n      return res.data;\n    })\n    .catch((err) => {\n      console.log(\"ERROR: ====\", err);\n      return err.response.data.Message;\n    });\n  return response;\n};\n\nexport const searchHotelByKeyword = (keyword) => {\n  // axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n\n  const response = axios.get(`${SEARCH_HOTEL_BY_KEYWORD_URL}/${keyword}`);\n\n  return response;\n};\n\nexport const deleteHotelApi = (token, data) => {\n  console.log(\"deleting token\", token);\n  const options = {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n    },\n  };\n  const response = axios\n    .post(DELETE_HOTEL_URL, data, options)\n    .then((res) => {\n      console.log(\"RES==\", res);\n      return res;\n    })\n    .catch((err) => {\n      console.log(\"ERR==\", err);\n      return err;\n    });\n  return response;\n};\n","import * as React from \"react\";\nimport Layout from \"../../components/Layouts\";\nimport Hotel from \"../../components/Screens/user/Hotel\";\nimport { getLSItem } from \"../../utils\";\nimport { useState, useEffect } from \"react\";\nimport { getHotelById } from \"../../apis/hotelApi\";\n\nconst HotelPage = ({ location }) => {\n  const locationStr = location.search;\n  console.log('location', locationStr);\n  const len = locationStr.length;\n  const queryStr = locationStr.substring(3);\n  const queryArr = queryStr.split(\"/\");\n  const hotelId = queryArr[0];\n  const dateIn = queryArr[1];\n  const dateOut = queryArr[2];\n  console.log('hotelId', hotelId, dateIn, dateOut);\n\n  return (\n    <Layout>\n      <Hotel id={hotelId} dateIn={dateIn} dateOut={dateOut} />\n    </Layout>\n  );\n};\n\nexport default HotelPage;\n"],"names":["getAllProvinces","setAll","fetch","GET_PROVINCES_URL","then","response","json","data","catch","e","console","log","createHotelApi","tokenStr","options","headers","Authorization","axios","CREATE_HOTEL_URL","res","err","Message","getAllHotels","setAllHotels","myHeaders","Headers","append","requestOptions","method","redirect","GET_ALL_HOTELS_URL","getHotelById","id","setHotel","URL","GET_HOTEL_BY_ID_URL","updateHotelInfor","UPDATE_HOTEL_URL","searchHotelByCriteria","SEARCH_HOTEL_BY_CRITERIA_URL","searchHotelByKeyword","keyword","SEARCH_HOTEL_BY_KEYWORD_URL","deleteHotelApi","token","DELETE_HOTEL_URL","locationStr","location","search","length","queryArr","substring","split","hotelId","dateIn","dateOut"],"sourceRoot":""}