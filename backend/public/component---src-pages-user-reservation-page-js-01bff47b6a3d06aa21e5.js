(self.webpackChunkbooking_hub=self.webpackChunkbooking_hub||[]).push([[6406],{3340:function(e,t,r){"use strict";var n=r(64836),a=r(75263);t.Z=void 0;var o=a(r(67294)),s=(0,n(r(58786)).default)(o.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"}),"AccessTimeOutlined");t.Z=s},12531:function(e,t,r){"use strict";var n=r(64836),a=r(75263);t.Z=void 0;var o=a(r(67294)),s=(0,n(r(58786)).default)(o.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.Z=s},19143:function(e,t,r){"use strict";var n=r(64836),a=r(75263);t.Z=void 0;var o=a(r(67294)),s=(0,n(r(58786)).default)(o.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"LocationOn");t.Z=s},57497:function(e,t,r){"use strict";var n=r(64836),a=r(75263);t.Z=void 0;var o=a(r(67294)),s=(0,n(r(58786)).default)(o.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"}),"TagFaces");t.Z=s},65426:function(e,t,r){"use strict";r.d(t,{F:function(){return s},Y:function(){return o}});var n=r(13880),a=r(6490),o=function(e,t){var r={headers:{Authorization:"Bearer "+e,"Content-Type":"application/x-www-form-urlencoded"}};return n.Z.post(a.D3,t,r).then((function(e){return e.data})).catch((function(e){return console.log("ERROR: ====",e),e.response.data.message}))},s=function(e,t){var r=a._p+"/"+e;return console.log("url",r),n.Z.get(r).then((function(e){return console.log("res==",e),t(e.data),e.data})).catch((function(e){return console.log("ERROR: ====",e),e.response.data.Message}))}},42096:function(e,t,r){"use strict";r.d(t,{C:function(){return d},HY:function(){return l},VB:function(){return i},gU:function(){return m},lv:function(){return o},mH:function(){return c},nQ:function(){return s},q6:function(){return p},zh:function(){return u}});var n=r(13880),a=r(6490),o=function(e){fetch(a.vl).then((function(e){return e.json()})).then((function(t){return e(t),t})).catch((function(e){console.log(e)}))},s=function(e,t){var r={headers:{Authorization:"Bearer "+t}};return n.Z.post(a.ni,e,r).then((function(e){return e.data})).catch((function(e){return console.log("ERROR: ====",e),e.response.data.Message}))},c=function(e,t){var r=new Headers;r.append("Authorization","Bearer "+t);var n={method:"GET",headers:r,redirect:"follow"};fetch(a.hC,n).then((function(e){return e.json()})).then((function(t){return e(t),t}))},u=function(e,t){var r=a.qh+"/"+e;console.log("url",r);return n.Z.get(r).then((function(e){return console.log("res==",e),t(e.data),e.data})).catch((function(e){return console.log("ERROR: ====",e),e.response.data.Message}))},l=function(e,t){var r={headers:{Authorization:"Bearer "+t}};return n.Z.put(a.oc,e,r).then((function(e){return console.log("RESPONSE ==== : ",e),e.data})).catch((function(e){return console.log("ERROR: ====",e),e.response.data.Message}))},i=function(e,t){return n.Z.put(a.KP,e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return console.log("RESPONSE:",e),t(e.data),e.data})).catch((function(e){console.log("ERROR:",e)}))},d=function(e,t,r){var o=a.HB+"/"+e;console.log("url",o);var s={headers:{Authorization:"Bearer "+t}};return n.Z.get(o,s).then((function(e){return console.log("res==",e),r(e.data),e.data})).catch((function(e){return console.log("ERROR: ====",e),e.response.data.Message}))},m=function(e){return n.Z.get(a.vf+"/"+e)},p=function(e,t){console.log("deleting token",e);var r={headers:{Authorization:"Bearer "+e,"Content-Type":"application/x-www-form-urlencoded"}};return n.Z.post(a.eN,t,r).then((function(e){return console.log("RES==",e),e})).catch((function(e){return console.log("ERR==",e),e}))}},95817:function(e,t,r){"use strict";r.d(t,{Fp:function(){return o},MC:function(){return u},TZ:function(){return l},Ui:function(){return c},jh:function(){return s}});var n=r(13880),a=r(6490),o=function(e,t){var r={headers:{Authorization:"Bearer "+t}};return n.Z.post(a.QG,e,r).then((function(e){return console.log("RESPONSE ==== : ",e),e.data})).catch((function(e){return console.log("ERROR: ====",e),e.response.data.Message}))},s=function(e,t,r){var o={headers:{Authorization:"Bearer "+r,"Content-Type":"application/x-www-form-urlencoded"}};return n.Z.post(a.Hc,t,o).then((function(t){return console.log("RESPONSE ==== : ",t),e(t.data),t.data})).catch((function(e){return console.log("ERROR: ====",e),e.response.data.message}))},c=function(e,t){var r={headers:{Authorization:"Bearer "+t}};return n.Z.put(a.H7,e,r).then((function(e){return console.log("RESPONSE ==== : ",e),e.data})).catch((function(e){return console.log("ERROR: ====",e),e.response.data.Message}))},u=function(e,t){return n.Z.put(a.TX,e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){return console.log("RESPONSE ==== : ",e),t(e.data),e.data})).catch((function(e){return console.log("ERROR: ====",e),e.response.data.message}))},l=function(e,t){console.log("deleting token",e);var r={headers:{Authorization:"Bearer "+e,"Content-Type":"application/x-www-form-urlencoded"}};return n.Z.post(a.k2,t,r).then((function(e){return console.log("RES==",e),e})).catch((function(e){return console.log("ERR==",e),e}))}},27783:function(e,t){t.r2=function(e){return new Date(e).toLocaleDateString("en-CA")},t.Um=function(e){return new Date(e).toLocaleDateString("en-GB")},t.gO=function(e){return new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}},91398:function(e,t,r){"use strict";r.d(t,{Z:function(){return b}});var n=r(15861),a=r(64687),o=r.n(a),s=r(67294),c=r(29285),u=r(30263),l=r(13880),i=r(6490),d=function(){var e=(0,n.Z)(o().mark((function e(t,r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"Bearer "+t,"Content-Type":"application/x-www-form-urlencoded"}},e.next=3,l.Z.put(i.o0,r,n).then((function(e){return console.log("res==",e),e.data})).catch((function(e){return console.log("ERROR: ====",e),{status:e.response.status,message:e.response.data.message}}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=(0,n.Z)(o().mark((function e(t,r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"Bearer "+t,"Content-Type":"application/x-www-form-urlencoded"}},e.next=3,l.Z.put(i.v5,r,n).then((function(e){return console.log("res==",e),e.data})).catch((function(e){return console.log("ERROR: ====",e),{status:e.response.status,message:e.response.data.message}}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(o().mark((function e(t,r){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"Bearer "+t,"Content-Type":"application/x-www-form-urlencoded"}},e.next=3,l.Z.put(i.H2,r,n).then((function(e){return console.log("res==",e),e.data})).catch((function(e){return console.log("ERROR: ====",e),{status:e.response.status,message:e.response.data.message}}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),f=r(46216),g=r(32978),h=r(42096),x=r(95817);function b(e){var t=e.isVisible,r=e.isClose,a=e.detail,l=e.type,i=e.id,b=e.hotelID,y=e.page,w=(0,f.oV)("ownerToken"),v=(0,f.oV)("token");console.log("token",w),console.log("_id",i);var E={reservation_id:i},N={hotel_id:i},k={hotel_id:b,room_id:i};return t?s.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-25 backdrop-blur-sm flex justify-center items-center z-20 "},s.createElement("div",{className:"w-4/12 flex flex-col z-20 h-5/6 rounded-4xl"},s.createElement("div",{className:"bg-white p-2 rounded flex flex-col m-2"},s.createElement("div",{className:"flex justify-between "},s.createElement("h2",{className:"font-bold text-2xl text-colorText ml-4 mt-2"},"Verify"),s.createElement("button",{className:"text-light-close text-lg place-self-end hover:text-close-color",onClick:function(){return r()}},s.createElement(u.Z,null))),s.createElement(c.Z,null),s.createElement("div",{className:"flex flex-col"},s.createElement("h1",{className:"text-sky-600 m-4 text-lg"},a),s.createElement("div",{className:"flex justify-around m-4"},s.createElement("button",{className:"border-2 border-sky-500 bg-white hover:bg-sky-500 hover:text-white rounded-3xl p-2 w-40 font-bold",onClick:function(){if("checkIn"==l){var e=function(){var e=(0,n.Z)(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t,r);case 2:n=e.sent,console.log(n),"Checked in!"===n.message?(g.Am.success("Check In Success"),setTimeout((function(){return(0,f.uX)("http://w22g1.int3306.freeddns.org/owner/ListReservation")}),1500)):400===n.status&&g.Am.error(n.message);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();console.log(E),e(w,E)}else if("checkOut"==l){var t=function(){var e=(0,n.Z)(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t,r);case 2:n=e.sent,console.log(n),"Checked out!"===n.message?(g.Am.success("Check Out Success"),setTimeout((function(){return(0,f.uX)("http://w22g1.int3306.freeddns.org/owner/ListReservation")}),1500)):400===n.status&&g.Am.error(n.message);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();t(w,E)}else if("delete"==l){if("hotel"===y){var r=function(){var e=(0,n.Z)(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.q6)(t,r);case 2:n=e.sent,console.log(n),"Delete successfully"===n.data.message?(g.Am.success("Delete successfully"),setTimeout((function(){return(0,f.uX)("http://w22g1.int3306.freeddns.org/owner/ListHotelPage")}),1500)):400===n.status&&g.Am.error(n.message);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();r(w,N)}else if("room"===y){var a=function(){var e=(0,n.Z)(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.TZ)(t,r);case 2:n=e.sent,console.log(n),"Delete room successfully"===n.data.message?(g.Am.success("Delete room successfully"),setTimeout((function(){return(0,f.uX)("http://w22g1.int3306.freeddns.org/owner/ListHotelPage")}),1500)):400===n.status&&g.Am.error(n.message);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();a(w,k)}}else if("canceled"===l){var s=function(){var e=(0,n.Z)(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t,r);case 2:n=e.sent,console.log(n),"Canceled!"===n.message?(g.Am.success("Cancel reservation successfully!"),setTimeout((function(){return(0,f.uX)("http://w22g1.int3306.freeddns.org/user/ReservationPage")}),1500)):400===n.status&&g.Am.error(n.data.message);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();s(v,E)}}},"Verify"),s.createElement("button",{className:"border-2 border-red-500 bg-white hover:bg-red-500 hover:text-white rounded-3xl p-2 w-40 font-bold",onClick:function(){return r()}},"Cancel")))))):null}},62237:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var n=r(67294),a=r(71456),o=r(12531),s=r(30263),c=r(46216),u=r(27783),l=r(83290),i=r(17964),d=r(91398);function m(){var e=(0,n.useState)(!1),t=e[0],r=e[1],a=(0,n.useState)(),m=a[0],p=a[1],f=(0,n.useState)(!1),g=f[0],h=f[1],x=(0,n.useState)(),b=x[0],y=x[1],w=(0,c.oV)("token");return(0,n.useEffect)((function(){(0,l.IF)(w,p)}),[]),console.log("reservations",m),n.createElement(n.Fragment,null,n.createElement("div",{className:"m-4 bg-white z-10 md:w-auto min-h-screen"},n.createElement("h1",{className:"font-bold text-2xl mb-3"},"Reservations"),n.createElement("div",{className:"container mx-auto px-4 sm:px-8"},n.createElement("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto"},n.createElement("div",{className:"inline-block min-w-full shadow-md rounded-lg overflow-hidden"},void 0===m?n.createElement("div",null,"You haven't book any reservations yet."):n.createElement("table",{className:"min-w-full leading-normal"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"},"No"),n.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"},"Reservation id"),n.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"},"Hotel name"),n.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"},"Guest name"),n.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"},"Telephone"),n.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"},"Number of rooms"),n.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"},"Check in date"),n.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"},"Check out date"),n.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"},"Created at"),n.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"},"Status"),n.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}),n.createElement("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100"}))),n.createElement("tbody",null,m.map((function(e,a){return n.createElement("tr",{key:a},n.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},n.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},a+1)),n.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},n.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},e.reservation_id)),n.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},n.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},e.Hotel.name)),n.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},n.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},e.name)),n.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},n.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},e.phone)),n.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},n.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},e.number_of_rooms)),n.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm text-right"},null===e.check_in?"____":(0,u.Um)(e.check_in)),n.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm text-right"},null===e.check_out?"____":(0,u.Um)(e.check_out)),n.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},n.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},(0,u.Um)(e.createdAt))),n.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},n.createElement("p",{className:"text-gray-900 whitespace-no-wrap"},n.createElement("span",{className:"waiting"===e.status?"text-sky-400 ":"canceled"===e.status?"text-red-400":"completed"===e.status?"text-green-400":"text-amber-400"},e.status.toUpperCase()))),n.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"},"WAITING"===e.status.toUpperCase()&&n.createElement("button",{type:"button",className:"inline-block mx-px text-light-close hover:text-close-color",onClick:function(){h(!0),y(e)}},n.createElement(s.Z,null)),n.createElement("button",{type:"button",className:"inline-block mx-px text-green-300 hover:text-green-500",onClick:function(){r(!0)}},n.createElement(o.Z,null))),n.createElement("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm"}),t&&n.createElement(i.Z,{isVisible:t,isClose:function(){return r(!1)},detail:e,type:"reservation"}),g&&n.createElement(d.Z,{isVisible:g,isClose:function(){return h(!1)},detail:"This reservation will be canceled. This action can't undo. Are you sure?",type:"canceled",id:b.reservation_id,page:"reservation"}))})))))))))}var p=function(){return n.createElement(a.Z,null,n.createElement(m,null))}}}]);
//# sourceMappingURL=component---src-pages-user-reservation-page-js-01bff47b6a3d06aa21e5.js.map