{"version":3,"file":"component---src-pages-user-search-hotel-page-js-790ba0dfea052cbee071.js","mappings":"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","sources":["webpack://booking-hub/./src/components/Common/CommonFunc.js","webpack://booking-hub/./src/assets/images/GoogleMap.webp","webpack://booking-hub/./src/components/Screens/search/HotelSearch.js","webpack://booking-hub/./src/pages/user/SearchHotelPage.js"],"sourcesContent":["exports.FormatDateTime = (date) => {\n    var DD = String(date.getDate()).padStart(2, '0');\n    var MM = String(date.getMonth() + 1).padStart(2, '0'); //January is 0!\n    var YYYY = date.getFullYear();\n    var hh = String(date.getHours()).padStart(2, '0');\n    var mm = String(date.getMinutes()).padStart(2, '0');\n    var ss = String(date.getSeconds()).padStart(2, '0');\n    const dateFormat = DD + '-' + MM + '-' + YYYY + ' ' + hh + ':' + mm + ':' + ss;\n    return dateFormat; \n}\n\nexports.FormatDate = (date) => {\n    let dateInput = new Date(date);\n    return dateInput.toLocaleDateString('en-CA'); \n}\n\nexports.FormatDateToGB = (date) => { \n    let dateInput = new Date(date);\n    return dateInput.toLocaleDateString('en-GB'); \n}\n\nexports.FormatDateToGBShort = (date) => { \n    let dateInput = new Date(date);\n    return dateInput.toLocaleDateString('en-GB', {\n        day : 'numeric',\n        month : 'short',\n        year : 'numeric'\n    }); \n}","export default __webpack_public_path__ + \"static/GoogleMap-86fbbb3913be757353e2572eb1a4ec00.webp\";","import * as React from \"react\"\nimport { useState, useEffect } from \"react\"\nimport Flatpickr from \"react-flatpickr\"\nimport EventAvailableOutlinedIcon from \"@material-ui/icons/EventAvailableOutlined\"\nimport SearchIcon from \"@material-ui/icons/Search\"\nimport StarBorderIcon from '@mui/icons-material/StarBorder'\nimport PersonOutlineIcon from \"@material-ui/icons/PersonOutline\"\nimport \"flatpickr/dist/themes/material_blue.css\"\nimport { FormatDate } from \"../../Common/CommonFunc\"\nimport { AsyncPaginate } from \"react-select-async-paginate\"\nimport { searchHotelByKeyword } from \"../../../apis/hotelApi\"\nimport { getLSItem, setLSItem, redirect } from \"../../../utils\"\nimport { searchHotelByCriteria } from \"../../../apis/hotelApi\"\n\nimport googleMap from \"../../../assets/images/GoogleMap.webp\"\n\nexport default function HotelSearch({ hotels, dateIn, dateOut, setHotels }) {\n  const [destination, setDestination] = useState()\n  const [arriveDay, setArriveDay] = useState(new Date())\n  const [leaveDay, setLeaveDay] = useState(new Date())\n  const [room, setRoom] = useState(1)\n  const [adult, setAdult] = useState(1)\n  const [child, setChild] = useState(0)\n  const [open, setOpen] = useState(false)\n  const [hotel, setHotel] = useState(\"\")\n  const [listHotels, setListHotels] = useState(() => {\n    let values = []\n    for (let item of hotels) {\n      values.push(item)\n    }\n    return values\n  })\n  const [searchValue, setSearchValue] = useState(\"\")\n  const [startPrice, setStartPrice] = useState(0)\n  const [endPrice, setEndPrice] = useState(100000)\n  const [score, setScore] = useState()\n  const [searched, setSearched] = useState(false)\n\n  console.log(hotels)\n\n  const { arrive } = arriveDay\n  const { leave } = leaveDay\n\n  const hotelScore = [0, 1, 2, 3, 4]\n\n  let numberHotel = hotels.length\n\n  useEffect(() => {\n    setListHotels(hotels)\n  }, [])\n\n  useEffect(() => {\n    console.log(\"mounted\")\n  }, [listHotels])\n\n  const decreaseRoom = () => {\n    if (room > 0) {\n      setRoom((prevCount) => prevCount - 1)\n    } else {\n      setRoom(0)\n    }\n  }\n\n  const increaseRoom = () => {\n    setRoom((prevCount) => prevCount + 1)\n  }\n\n  //   adult\n  const decreaseAdult = () => {\n    if (room > 0) {\n      setAdult((prevCount) => prevCount - 1)\n    } else {\n      setAdult(0)\n    }\n  }\n\n  const increaseAdult = () => {\n    setAdult((prevCount) => prevCount + 1)\n  }\n\n  //   children\n  const decreaseChild = () => {\n    if (room > 0) {\n      setChild((prevCount) => prevCount - 1)\n    } else {\n      setChild(0)\n    }\n  }\n\n  const increaseChild = () => {\n    setChild((prevCount) => prevCount + 1)\n  }\n\n\n  const loadOptions = (searchValues) => {\n    return getData(searchValues || \"a\")\n  }\n\n  const getData = async (keyword) => {\n    const response = await searchHotelByKeyword(keyword)\n\n    return {\n      options: [...response.data],\n      hasMore: false,\n    }\n  }\n\n  const handleSearchChange = (value) => {\n    setSearchValue(value)\n  }\n\n  const handleChange = (value) => {\n    setHotel(value)\n    setDestination(value.province)\n  }\n\n  function handleSearch() {\n    let date_in = FormatDate(arriveDay.arrive)\n    let date_out = FormatDate(leaveDay.leave)\n    let guest = adult + child\n\n    let data = {\n      date_in: FormatDate(arriveDay.arrive),\n      date_out: FormatDate(leaveDay.leave),\n      province: destination,\n      number_of_room: parseFloat(room),\n      number_of_guest: parseFloat(adult + child),\n    }\n\n    // useEffect(() => {\n    //   searchHotelByCriteria(data, setHotel);\n    // }, [])\n\n    // let searchResult = searchHotelByCriteria(data, setHotel)\n    // console.log(\"search result: \", searchResult, \"hotels\", hotel)\n\n    setLSItem(\"destination\", destination)\n    setLSItem(\"date_in\", date_in)\n    setLSItem(\"date_out\", date_out)\n    setLSItem(\"room\", room)\n    setLSItem(\"guest\", guest)\n\n    redirect(`${process.env.API_URL}/user/SearchHotelPage?x=${destination}/${date_in}/${date_out}/room${room}/guest${guest}`)\n  }\n\n  const confirmCondition = async () => {\n    const data = {\n      rating: score,\n      province: getLSItem(\"destination\"),\n      date_in: getLSItem(\"date_in\"),\n      date_out: getLSItem(\"date_out\"),\n      number_of_room: getLSItem(\"room\"),\n      number_of_guest: getLSItem(\"guest\"),\n      price_from: startPrice === 0 ? 0 : startPrice,\n      price_to: endPrice,\n    }\n    const response = await searchHotelByCriteria(data, setListHotels)\n    setHotels(response)\n  }\n\n  if (!hotels) {\n    return null\n  }\n\n\n  return (\n    // listContainer\n    <div>\n\n      <div className=\"drop-shadow-sm p-2 pt-4 flex justify-center\">\n        <div className=\"relative w-60 flex items-center text-gray-400 focus-within:text-gray-600\">\n          {/* <LocalHotelIcon className=\"w-5 h-5 absolute ml-3 pointer-events-none\" /> */}\n          <AsyncPaginate\n            styles={{\n              border: 'none',\n              width: '200px',\n            }}\n            className=\"w-60\"\n            value={hotel}\n            debounceTimeout={1000}\n            loadOptions={loadOptions}\n            getOptionLabel={(e) => e.province}\n            getOptionValue={(e) => e.province}\n            onInputChange={handleSearchChange}\n            onChange={handleChange}\n          />\n\n        </div>\n\n        <div className=\"flex items-center ml-2\">\n          <div className=\"relative flex items-center text-gray-400 focus-within:text-gray-600 mr-1\">\n            <EventAvailableOutlinedIcon className=\"w-5 h-5 absolute ml-3 pointer-events-none\" />\n            <Flatpickr\n              className=\"w-full pr-3 pl-10 py-2 font-semibold placeholder-gray-500 text-colorText rounded-2xl boder-none ring-2 ring-gray-300 focus:ring-primary-500 focus: ring-2\"\n              value={arrive}\n              onChange={(arrive) => {\n                setArriveDay({ arrive })\n              }}\n              options={{\n                altFormat: \"d/m/Y\",\n                altInput: true,\n              }}\n              placeholder=\"Arrive day\"\n            />\n          </div>\n\n          <div className=\"relative flex items-center text-gray-400 focus-within:text-gray-600\">\n            <EventAvailableOutlinedIcon className=\"w-5 h-5 absolute ml-3 pointer-events-none\" />\n            <Flatpickr\n              className=\"w-full pr-3 pl-10 py-2 font-semibold placeholder-gray-500 text-colorText rounded-2xl boder-none ring-2 ring-gray-300 focus:ring-primary-500 focus: ring-2\"\n              value={leave}\n              onChange={(leave) => {\n                setLeaveDay({ leave })\n              }}\n              options={{\n                altFormat: \"d/m/Y\",\n                altInput: true,\n              }}\n              placeholder=\"Leave day\"\n            />\n          </div>\n        </div>\n\n        <div className=\"relative flex items-center text-gray-400 focus-within:text-gray-600 ml-2 cursor-pointer\">\n          <PersonOutlineIcon className=\"w-5 h-5 absolute ml-3 pointer-events-none\" />\n          <input\n            className=\"w-full pr-3 pl-10 py-2 font-semibold placeholder-gray-500 text-colorText rounded-2xl boder-none ring-2 ring-gray-300 focus:ring-primary-500 focus: ring-2\"\n            type=\"value\"\n            value={`${room} rooms, ${adult + child} people`}\n            onClick={() => setOpen(!open)}\n          //   onBlur={() => setOpen(!open)}\n          />\n\n          {open && (\n            <div className=\"absolute bg-white w-max top-12 border-cyan-100 rounded-md p-2 shadow-xl\">\n              <div className=\"w-56 flex justify-between px-2 m-2\">\n                <p className=\"w-20\">Rooms</p>\n\n                {/* optionCounter */}\n                <div className=\"flex items-center gap-2.5\">\n                  <button\n                    className=\"w-8 h-8 border-2 text-sky-600 bg-white border-sky-600\"\n                    onClick={decreaseRoom}\n                  >\n                    -\n                  </button>\n                  <span className=\"w-3\">{room}</span>\n                  <button\n                    className=\"w-8 h-8 border-2 text-sky-600 bg-white border-sky-600\"\n                    onClick={increaseRoom}\n                  >\n                    +\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"w-56 flex justify-between px-2 m-2\">\n                <p className=\"w-20\">Adults</p>\n                <div className=\"flex items-center gap-2.5\">\n                  <button\n                    className=\"w-8 h-8 border-2 text-sky-600 bg-white border-sky-600\"\n                    onClick={decreaseAdult}\n                  >\n                    -\n                  </button>\n                  <span className=\"w-3\">{adult}</span>\n                  <button\n                    className=\"w-8 h-8 border-2 text-sky-600 bg-white border-sky-600\"\n                    onClick={increaseAdult}\n                  >\n                    +\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"w-56 flex justify-between px-2 m-2\">\n                <p className=\"w-20\">Children</p>\n                <div className=\"flex items-center gap-2.5\">\n                  <button\n                    className=\"w-8 h-8 border-2 text-sky-600 bg-white border-sky-600\"\n                    onClick={decreaseChild}\n                  >\n                    -\n                  </button>\n                  <span className=\"w-3\">{child}</span>\n                  <button\n                    className=\"w-8 h-8 border-2 text-sky-600 bg-white border-sky-600\"\n                    onClick={increaseChild}\n                  >\n                    +\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        <button\n          className=\"px-2 rounded-full bg-white text-colorText flex items-center ml-2 border-2 border-light-primary hover:bg-primary hover:text-white hover:shadow-md hover:shadow-gray-200\"\n          onClick={() => handleSearch()}\n        >\n          <SearchIcon />\n          <span>Search</span>\n        </button>\n      </div>\n\n      {/* -----------------------------LIST HOTELS HERE----------------------------- */}\n      <div className=\"flex justify-center min-h-full mt-12\">\n        {/* listWapper */}\n\n        <div className=\"w-full max-w-5xl flex\">\n          {/* listSearch */}\n          <div className=\"flex-1 p-2.5 rounded-xl sticky top-2.5 mx-4 h-max pt-0\">\n\n            <div style={{\n              backgroundImage: `url(${googleMap})`,\n              width: \"100%\",\n              height: \"160px\",\n              backgroundSize: \"contain\"\n            }}\n              className=\"rounded-md cursor-pointer border border-primary flex items-center justify-center\"\n              onClick={() => {\n                redirect(`${process.env.API_URL}/user/ExplorePage`)\n              }}\n            >\n              <div className=\"text-center p-0 px-4 py-2 bg-primary rounded-md\">\n                <h1 className=\"text-white text-xl font-bold\">\n                  Go to map\n                </h1>\n              </div>\n            </div>\n\n            <div className=\"border-b border-t border-primary py-2 my-4\">\n              <h1 className=\"text-xl font-bold text-primary\">Review Score</h1>\n              <div className=\"flex my-2 justify-between\">\n                {hotelScore.map((item) => {\n                  return (item === score ? (<div className=\"w-8 bg-primary cursor-pointer h-8 rounded-md border border-primary flex justify-center items-center\"\n                    onClick={() => {\n                      setScore(item)\n                    }}\n                  >\n                    <div className=\"text-md font-bold text-white\">{item}+</div>\n                  </div>) : (<div className=\"w-8 cursor-pointer h-8 rounded-md border border-primary flex justify-center items-center\"\n                    onClick={() => {\n                      setScore(item)\n                    }}\n                  >\n                    <div className=\"text-md font-bold text-primary\">{item}+</div>\n                  </div>)\n                  )\n\n                })}\n              </div>\n            </div>\n\n            <div className=\"border-b border-primary py-2 my-4\">\n              <h1 className=\"text-xl font-bold text-primary\">Price</h1>\n              <div className=\"my-2 justify-between\">\n                <div className=\"flex justify-between\">\n                  <div className=\"text-primary font-semibold\">From </div>\n                  <input type=\"number\" onChange={(event) => {\n                    setStartPrice(event.target.value)\n                    console.log(event.target.value)\n                  }}\n                    className=\"focus:outline-0 py-1 px-1 w-32 border border-primary mb-2 rounded-md\"\n                  />\n                </div>\n\n                <div className=\"flex justify-between\">\n                  <div className=\"text-primary font-semibold\">To </div>\n                  <input type=\"number\" onChange={(event) => {\n                    setEndPrice(event.target.value)\n                    console.log(event.target.value)\n                  }}\n                    className=\"focus:outline-0 py-1 px-1 w-32 border border-primary mb-2 rounded-md\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"py-2 my-4 bg-primary rounded-md cursor-pointer\"\n              onClick={confirmCondition}\n            >\n              <div className=\"my-2 justify-between\">\n                <div className=\"flex justify-center items-center\">\n                  <div className=\"text-white font-semibold\">Search</div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n\n\n\n          {/* ------------------list hotel----------------- */}\n          <div className=\"flex3 w-full\">\n            {/* SearchItem */}\n\n            {numberHotel == 0 ? (\n              <div>\n                <h1 className=\"flex items-center justify-center text-lg text-sky-600 font-bold\">\n                  No hotels were founded in { }\n                </h1>\n              </div>\n            ) : (\n              hotels.map((item, index) => {\n                return (\n                  <div\n                    className=\"bg-primary rounded-lg flex justify-between mb-4\"\n                    key={index}\n                  >\n                    {/* siImg */}\n                    <div className=\"rounded-l-lg h-64 overflow-hidden w-72\">\n                      <img\n                        src={item.Images.length != 0 ? item.Images[0].imgURL : \"https://www.gannett-cdn.com/-mm-/05b227ad5b8ad4e9dcb53af4f31d7fbdb7fa901b/c=0-64-2119-1259/local/-/media/USATODAY/USATODAY/2014/08/13/1407953244000-177513283.jpg\"}\n                        alt=\"\"\n                        className=\"object-cover w-96 h-96\"\n                      />\n                    </div>\n\n\n                    {/* siDesc */}\n                    <div className=\"flex flex-col gap-1.5 flex2 p-2.5 pl-4 justify-center\">\n                      {/* siTitle */}\n                      <h1 className=\"text-2xl text-white font-bold\">\n                        {item.name}\n                      </h1>\n\n                      <span className=\"text-sm text-green-400 p-1 rounded w-max underline\">\n                        {item.fromCenter}m from center\n                      </span>\n\n                      <span className=\"mt-1 text-white text-sm\">\n                        <span className=\"font-bold\">Amenities: </span>\n                        {item.criteria}\n                      </span>\n\n                      <span className=\"font-bold text-green-400\">\n                        Free cancellation\n                      </span>\n                    </div>\n\n                    {/* siDetails */}\n                    <div className=\"flex flex-col flex-1 justify-center my-4 pl-2.5 pr-2.5 border-l-2\">\n                      <div className=\"flex flex-col gap-1 justify-center\">\n                        <div className=\"text-white text-2xl font-bold\">{item.rating}/5</div>\n                        <div className=\"text-white font-bold\">{item.classification} rated</div>\n                        <div className=\"border-b border-white\"></div>\n                        <div className=\"text-white\">From</div>\n                        <span className=\"text-xl font-semibold text-white\">\n                          ${item.startPrice}\n                        </span>\n                        {/* siTaxOp */}\n                        <span className=\"text-sm text-gray-500\">\n                          Includes taxes and fees\n                        </span>\n                        {/* siCheckButton */}\n                        <button\n                          className=\"bg-green-700 font-bold px-2 py-1 text-white rounded-sm hover:bg-sky-600 cursor-pointer\"\n                          onClick={() => {\n                            console.log(\"item \", index, item)\n                            console.log('hotel id', item.hotel_id)\n                            redirect(`${process.env.API_URL}/user/HotelPage?x=${item.hotel_id}/${dateIn}/${dateOut}`)\n                          }}\n                        >\n                          See availability\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                )\n              })\n            )}\n          </div>\n        </div>\n      </div>\n    </div >\n  )\n}\n","import * as React from \"react\"\nimport Layout from \"../../components/Layouts\"\nimport HotelSearch from \"../../components/Screens/search/HotelSearch\"\nimport { FormatDate } from \"../../components/Common/CommonFunc\"\nimport { searchHotelByCriteria } from \"../../apis/hotelApi\"\nimport { useState, useEffect } from \"react\"\nimport { subString } from \"../../utils\"\n\nconst SearchHotelPage = ({ location }) => {\n  const [hotel, setHotel] = useState([])\n\n  console.log(\"location\", location.search)\n  let query = location.search\n  let param = new URLSearchParams(location.search)\n  let paramString = param.toString()\n  console.log(\"type\", typeof param, param)\n  console.log(\"string\", paramString)\n  let queryString = query.substring(3)\n  console.log('query string', queryString)\n\n  let queryArr = queryString.split('/')\n  console.log('query arr', queryArr)\n\n  const dateIn = FormatDate(queryArr[1])\n  const dateOut = FormatDate(queryArr[2])\n  let data = {\n    date_in: FormatDate(queryArr[1]),\n    date_out: FormatDate(queryArr[2]),\n    province: queryArr[0].replace(\"%20\", \" \"),\n    number_of_room: parseFloat(subString(queryArr[3], 4)),\n    number_of_guest: parseFloat(subString(queryArr[4], 5)),\n  }\n\n  console.log('data', data)\n  // let res = searchHotelByCriteria(data, setHotel);\n\n  useEffect(() => {\n    searchHotelByCriteria(data, setHotel)\n  }, [])\n  console.log('hotel', hotel)\n\n  return (\n    <Layout>\n      <HotelSearch hotels={hotel} dateIn={dateIn} dateOut={dateOut} setHotels={setHotel} />\n    </Layout>\n  )\n}\n\nexport default SearchHotelPage\n"],"names":["exports","date","Date","toLocaleDateString","day","month","year","HotelSearch","hotels","dateIn","dateOut","setHotels","useState","destination","setDestination","arriveDay","setArriveDay","leaveDay","setLeaveDay","room","setRoom","adult","setAdult","child","setChild","open","setOpen","hotel","setHotel","values","item","push","listHotels","setListHotels","setSearchValue","startPrice","setStartPrice","endPrice","setEndPrice","score","setScore","console","log","arrive","leave","numberHotel","length","useEffect","getData","keyword","searchHotelByKeyword","response","options","data","hasMore","confirmCondition","rating","province","getLSItem","date_in","date_out","number_of_room","number_of_guest","price_from","price_to","searchHotelByCriteria","className","styles","border","width","value","debounceTimeout","loadOptions","searchValues","getOptionLabel","e","getOptionValue","onInputChange","onChange","EventAvailableOutlined","altFormat","altInput","placeholder","PersonOutline","type","onClick","prevCount","FormatDate","guest","parseFloat","setLSItem","redirect","process","Search","style","backgroundImage","googleMap","height","backgroundSize","map","event","target","index","key","src","Images","imgURL","alt","name","fromCenter","criteria","classification","hotel_id","location","search","query","param","URLSearchParams","paramString","toString","queryString","substring","queryArr","split","replace","subString"],"sourceRoot":""}