(self.webpackChunkbooking_hub=self.webpackChunkbooking_hub||[]).push([[10],{27783:function(e,t){t.r2=function(e){return new Date(e).toLocaleDateString("en-CA")},t.Um=function(e){return new Date(e).toLocaleDateString("en-GB")},t.gO=function(e){return new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}},88475:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(67294),a=r(71456),o=r(42982),l=r(15861),s=r(64687),c=r.n(s),i=r(70516),m=r(22292),u=r(4969),d=r(3852),f=r(27783),p=r(21933),b=r(42096),g=r(46216),x=r.p+"static/GoogleMap-86fbbb3913be757353e2572eb1a4ec00.webp";function y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e){var t=e.hotels,r=e.dateIn,a=e.dateOut,s=e.setHotels,v=(0,n.useState)(),h=v[0],w=v[1],E=(0,n.useState)(new Date),N=E[0],k=E[1],S=(0,n.useState)(new Date),C=S[0],j=S[1],_=(0,n.useState)(1),A=_[0],I=_[1],D=(0,n.useState)(1),O=D[0],Z=D[1],F=(0,n.useState)(0),T=F[0],V=F[1],L=(0,n.useState)(!1),U=L[0],P=L[1],B=(0,n.useState)(""),G=B[0],H=B[1],R=(0,n.useState)((function(){for(var e,r=[],n=y(t);!(e=n()).done;){var a=e.value;r.push(a)}return r})),Y=R[0],M=R[1],X=(0,n.useState)(""),q=(X[0],X[1]),K=(0,n.useState)(0),$=K[0],z=K[1],J=(0,n.useState)(1e5),Q=J[0],W=J[1],ee=(0,n.useState)(),te=ee[0],re=ee[1],ne=(0,n.useState)(!1);ne[0],ne[1];console.log(t);var ae=N.arrive,oe=C.leave,le=t.length;(0,n.useEffect)((function(){M(t)}),[]),(0,n.useEffect)((function(){console.log("mounted")}),[Y]);var se=function(){var e=(0,l.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.gU)(t);case 2:return r=e.sent,e.abrupt("return",{options:(0,o.Z)(r.data),hasMore:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ce=function(){var e=(0,l.Z)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={rating:te,province:(0,g.oV)("destination"),date_in:(0,g.oV)("date_in"),date_out:(0,g.oV)("date_out"),number_of_room:(0,g.oV)("room"),number_of_guest:(0,g.oV)("guest"),price_from:0===$?0:$,price_to:Q},e.next=3,(0,b.VB)(t,M);case 3:r=e.sent,s(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?n.createElement("div",null,n.createElement("div",{className:"drop-shadow-sm p-2 pt-4 flex justify-center"},n.createElement("div",{className:"relative w-60 flex items-center text-gray-400 focus-within:text-gray-600"},n.createElement(p.n9,{styles:{border:"none",width:"200px"},className:"w-60",value:G,debounceTimeout:1e3,loadOptions:function(e){return se(e||"a")},getOptionLabel:function(e){return e.province},getOptionValue:function(e){return e.province},onInputChange:function(e){q(e)},onChange:function(e){H(e),w(e.province)}})),n.createElement("div",{className:"flex items-center ml-2"},n.createElement("div",{className:"relative flex items-center text-gray-400 focus-within:text-gray-600 mr-1"},n.createElement(m.Z,{className:"w-5 h-5 absolute ml-3 pointer-events-none"}),n.createElement(i.Z,{className:"w-full pr-3 pl-10 py-2 font-semibold placeholder-gray-500 text-colorText rounded-2xl boder-none ring-2 ring-gray-300 focus:ring-primary-500 focus: ring-2",value:ae,onChange:function(e){k({arrive:e})},options:{altFormat:"d/m/Y",altInput:!0},placeholder:"Arrive day"})),n.createElement("div",{className:"relative flex items-center text-gray-400 focus-within:text-gray-600"},n.createElement(m.Z,{className:"w-5 h-5 absolute ml-3 pointer-events-none"}),n.createElement(i.Z,{className:"w-full pr-3 pl-10 py-2 font-semibold placeholder-gray-500 text-colorText rounded-2xl boder-none ring-2 ring-gray-300 focus:ring-primary-500 focus: ring-2",value:oe,onChange:function(e){j({leave:e})},options:{altFormat:"d/m/Y",altInput:!0},placeholder:"Leave day"}))),n.createElement("div",{className:"relative flex items-center text-gray-400 focus-within:text-gray-600 ml-2 cursor-pointer"},n.createElement(d.Z,{className:"w-5 h-5 absolute ml-3 pointer-events-none"}),n.createElement("input",{className:"w-full pr-3 pl-10 py-2 font-semibold placeholder-gray-500 text-colorText rounded-2xl boder-none ring-2 ring-gray-300 focus:ring-primary-500 focus: ring-2",type:"value",value:A+" rooms, "+(O+T)+" people",onClick:function(){return P(!U)}}),U&&n.createElement("div",{className:"absolute bg-white w-max top-12 border-cyan-100 rounded-md p-2 shadow-xl"},n.createElement("div",{className:"w-56 flex justify-between px-2 m-2"},n.createElement("p",{className:"w-20"},"Rooms"),n.createElement("div",{className:"flex items-center gap-2.5"},n.createElement("button",{className:"w-8 h-8 border-2 text-sky-600 bg-white border-sky-600",onClick:function(){I(A>0?function(e){return e-1}:0)}},"-"),n.createElement("span",{className:"w-3"},A),n.createElement("button",{className:"w-8 h-8 border-2 text-sky-600 bg-white border-sky-600",onClick:function(){I((function(e){return e+1}))}},"+"))),n.createElement("div",{className:"w-56 flex justify-between px-2 m-2"},n.createElement("p",{className:"w-20"},"Adults"),n.createElement("div",{className:"flex items-center gap-2.5"},n.createElement("button",{className:"w-8 h-8 border-2 text-sky-600 bg-white border-sky-600",onClick:function(){Z(A>0?function(e){return e-1}:0)}},"-"),n.createElement("span",{className:"w-3"},O),n.createElement("button",{className:"w-8 h-8 border-2 text-sky-600 bg-white border-sky-600",onClick:function(){Z((function(e){return e+1}))}},"+"))),n.createElement("div",{className:"w-56 flex justify-between px-2 m-2"},n.createElement("p",{className:"w-20"},"Children"),n.createElement("div",{className:"flex items-center gap-2.5"},n.createElement("button",{className:"w-8 h-8 border-2 text-sky-600 bg-white border-sky-600",onClick:function(){V(A>0?function(e){return e-1}:0)}},"-"),n.createElement("span",{className:"w-3"},T),n.createElement("button",{className:"w-8 h-8 border-2 text-sky-600 bg-white border-sky-600",onClick:function(){V((function(e){return e+1}))}},"+"))))),n.createElement("button",{className:"px-2 rounded-full bg-white text-colorText flex items-center ml-2 border-2 border-light-primary hover:bg-primary hover:text-white hover:shadow-md hover:shadow-gray-200",onClick:function(){return e=(0,f.r2)(N.arrive),t=(0,f.r2)(C.leave),r=O+T,(0,f.r2)(N.arrive),(0,f.r2)(C.leave),parseFloat(A),parseFloat(O+T),(0,g.be)("destination",h),(0,g.be)("date_in",e),(0,g.be)("date_out",t),(0,g.be)("room",A),(0,g.be)("guest",r),void(0,g.uX)("http://w22g1.int3306.freeddns.org/user/SearchHotelPage?x="+h+"/"+e+"/"+t+"/room"+A+"/guest"+r);var e,t,r}},n.createElement(u.Z,null),n.createElement("span",null,"Search"))),n.createElement("div",{className:"flex justify-center min-h-full mt-12"},n.createElement("div",{className:"w-full max-w-5xl flex"},n.createElement("div",{className:"flex-1 p-2.5 rounded-xl sticky top-2.5 mx-4 h-max pt-0"},n.createElement("div",{style:{backgroundImage:"url("+x+")",width:"100%",height:"160px",backgroundSize:"contain"},className:"rounded-md cursor-pointer border border-primary flex items-center justify-center",onClick:function(){(0,g.uX)("http://w22g1.int3306.freeddns.org/user/ExplorePage")}},n.createElement("div",{className:"text-center p-0 px-4 py-2 bg-primary rounded-md"},n.createElement("h1",{className:"text-white text-xl font-bold"},"Go to map"))),n.createElement("div",{className:"border-b border-t border-primary py-2 my-4"},n.createElement("h1",{className:"text-xl font-bold text-primary"},"Review Score"),n.createElement("div",{className:"flex my-2 justify-between"},[0,1,2,3,4].map((function(e){return e===te?n.createElement("div",{className:"w-8 bg-primary cursor-pointer h-8 rounded-md border border-primary flex justify-center items-center",onClick:function(){re(e)}},n.createElement("div",{className:"text-md font-bold text-white"},e,"+")):n.createElement("div",{className:"w-8 cursor-pointer h-8 rounded-md border border-primary flex justify-center items-center",onClick:function(){re(e)}},n.createElement("div",{className:"text-md font-bold text-primary"},e,"+"))})))),n.createElement("div",{className:"border-b border-primary py-2 my-4"},n.createElement("h1",{className:"text-xl font-bold text-primary"},"Price"),n.createElement("div",{className:"my-2 justify-between"},n.createElement("div",{className:"flex justify-between"},n.createElement("div",{className:"text-primary font-semibold"},"From "),n.createElement("input",{type:"number",onChange:function(e){z(e.target.value),console.log(e.target.value)},className:"focus:outline-0 py-1 px-1 w-32 border border-primary mb-2 rounded-md"})),n.createElement("div",{className:"flex justify-between"},n.createElement("div",{className:"text-primary font-semibold"},"To "),n.createElement("input",{type:"number",onChange:function(e){W(e.target.value),console.log(e.target.value)},className:"focus:outline-0 py-1 px-1 w-32 border border-primary mb-2 rounded-md"})))),n.createElement("div",{className:"py-2 my-4 bg-primary rounded-md cursor-pointer",onClick:ce},n.createElement("div",{className:"my-2 justify-between"},n.createElement("div",{className:"flex justify-center items-center"},n.createElement("div",{className:"text-white font-semibold"},"Search"))))),n.createElement("div",{className:"flex3 w-full"},0==le?n.createElement("div",null,n.createElement("h1",{className:"flex items-center justify-center text-lg text-sky-600 font-bold"},"No hotels were founded in ")):t.map((function(e,t){return n.createElement("div",{className:"bg-primary rounded-lg flex justify-between mb-4",key:t},n.createElement("div",{className:"rounded-l-lg h-64 overflow-hidden w-72"},n.createElement("img",{src:0!=e.Images.length?e.Images[0].imgURL:"https://www.gannett-cdn.com/-mm-/05b227ad5b8ad4e9dcb53af4f31d7fbdb7fa901b/c=0-64-2119-1259/local/-/media/USATODAY/USATODAY/2014/08/13/1407953244000-177513283.jpg",alt:"",className:"object-cover w-96 h-96"})),n.createElement("div",{className:"flex flex-col gap-1.5 flex2 p-2.5 pl-4 justify-center"},n.createElement("h1",{className:"text-2xl text-white font-bold"},e.name),n.createElement("span",{className:"text-sm text-green-400 p-1 rounded w-max underline"},e.fromCenter,"m from center"),n.createElement("span",{className:"mt-1 text-white text-sm"},n.createElement("span",{className:"font-bold"},"Amenities: "),e.criteria),n.createElement("span",{className:"font-bold text-green-400"},"Free cancellation")),n.createElement("div",{className:"flex flex-col flex-1 justify-center my-4 pl-2.5 pr-2.5 border-l-2"},n.createElement("div",{className:"flex flex-col gap-1 justify-center"},n.createElement("div",{className:"text-white text-2xl font-bold"},e.rating,"/5"),n.createElement("div",{className:"text-white font-bold"},e.classification," rated"),n.createElement("div",{className:"border-b border-white"}),n.createElement("div",{className:"text-white"},"From"),n.createElement("span",{className:"text-xl font-semibold text-white"},"$",e.startPrice),n.createElement("span",{className:"text-sm text-gray-500"},"Includes taxes and fees"),n.createElement("button",{className:"bg-green-700 font-bold px-2 py-1 text-white rounded-sm hover:bg-sky-600 cursor-pointer",onClick:function(){console.log("item ",t,e),console.log("hotel id",e.hotel_id),(0,g.uX)("http://w22g1.int3306.freeddns.org/user/HotelPage?x="+e.hotel_id+"/"+r+"/"+a)}},"See availability"))))})))))):null}var w=function(e){var t=e.location,r=(0,n.useState)([]),o=r[0],l=r[1];console.log("location",t.search);var s=t.search,c=new URLSearchParams(t.search),i=c.toString();console.log("type",typeof c,c),console.log("string",i);var m=s.substring(3);console.log("query string",m);var u=m.split("/");console.log("query arr",u);var d=(0,f.r2)(u[1]),p=(0,f.r2)(u[2]),x={date_in:(0,f.r2)(u[1]),date_out:(0,f.r2)(u[2]),province:u[0].replace("%20"," "),number_of_room:parseFloat((0,g.Kt)(u[3],4)),number_of_guest:parseFloat((0,g.Kt)(u[4],5))};return console.log("data",x),(0,n.useEffect)((function(){(0,b.VB)(x,l)}),[]),console.log("hotel",o),n.createElement(a.Z,null,n.createElement(h,{hotels:o,dateIn:d,dateOut:p,setHotels:l}))}}}]);
//# sourceMappingURL=component---src-pages-user-search-hotel-page-js-e726499a224339827111.js.map